<?xml version="1.0"?>
<!-- ----------------------------------------------------------------------------
Copyright 2013-2014 Bo Zimmerman

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--------------------------------------------------------------------------------

Instructions:
The following is some guidelines on how to write an XML document for the random
area generator, accessed via the GENERATE command.  Since the purpose of this
XML document is to help select from random choices, you'll find a lot of its
quirks are centered towards helping you do this.  The format is standard XML, 
whose meaning is parsed quite creatively.  Read close.

The Root tag must be "AREADATA", and this tag must contain all others.
Basic tags are AREA, ROOM, MOB, ITEM, and STRING.
Any tag that contains other tags of the same type is a Container tag.
Tags are always evaluated recursively, from first to last.
Any tag may contain zero or more of the following meta-attributes:
"id"      exposes the tag to either the Generate command, or to the "insert" 
          or "like" attributes.
"load"    the xml inside the file named is inserted into the tag
"like"    a comma separated list of other tag "id"s of the SAME TYPE. These may
          NOT be container tags.  This will allow the current tag to be parsed 
          as if it contained the same tags and attributes as the listed tags. 
          This is useful for making one-off variations on existing tag structures.
"insert"  a comma separated list of other tag ids. The targeted tags may be of
          any type, and may be containers.  It will cause the tags to be parsed
          and the resulting tags added as contents of the host tag as if they were
          already inside it.  Remember, the listed tags will be parsed first, so
          any "condition", "select" or other operations will occur.
"copyof"  a tag "id" or standard class id. This will cause the stats and attributes 
          and other details of the listed items into the current object.
"validate" a boolean expression which must evaluate to true for the tag to be finally
          built into an object.  Check "condition" below for more information....
"condition" the value is a boolean expression which must evaluate to true for the
          tag to be included in its parent.  This is similar to "validate" except
          that "condition" determines whether a tag is among the allowed choices, 
          whereas "validate" determines whether, after being chosen, it is finally
          built into a final thing (whether string, mob, item, whatever).
          These expressions may use boolean operators like AND and OR and NOT (or !), 
          string constants are always single-quoted 'string', string comparison 
          operators include = , !=, and IN to check to see if the lhs string is a 
          substring of the rhs string. Numeric comparisons may be made as well, and 
          numeric comparison operators include > < >= <= != =.  Parenthesis may be 
          used to group sub-expressions. Defined variables may be included, but only 
          if preceded by a $ character. For instance, to check if the variable "bob" 
          is equal to "bobvalue", you would enter $bob='bobvalue'.  Undefined string 
          ids are treated as ''.  Remember that in XML, a < and > characters can not 
          appear in attribute values, which is why they must be written as &lt; and 
          &gt; in your xml.
"define"  this attribute is only used if its "condition" is met, and it is "selected"
          by its parent tag, if applicable.  It is a comma separated list of any 
          combination of the following:
          "id": either a new or existing identifier, in which case the value that
          this tag resolves to will be set to that identifier, allowing it to be
          used in "condition", tag values, or other places.
          "id=value": will set the new or existing identifier "id" to the given
          constant "value".
          "id+=number":
          "id*=number":
          "id-=number":
          "id/=number": Will attempt to evaluate the existing value of the identifier
          "id" as a number, and perform the given operation upon it with the "number"
          given. For instance "bob+=3" will add the number 3 to the current value of
          the identifier "bob".  Any undefined "id" will be treated as if it were 0.
          When dealing with areas, there is an extra feature of defined
          identifiers.  An identifier whose name starts with "_" will persist for 
          every tag and object in the room's "room group".  An identifier whose name 
          starts with "__" will persist throughout the entire area.  Otherwise, any
          variables defined using this command will persist only for one room. 
"predefine" identical to "define", but always evaluated when encountered.
"select"  Used mostly by container tags, this attribute allows you to specify how 
          multiple choices are resolved by this tag.  More than one selection may be
          made, which makes sense when selecting MOB tags for a ROOM.  However, 
          sometimes it does not, such as when selecting a NAME for a MOB.  In those
          cases, any remaining multiple-choices are always selected randomly from.  
          Possible values are:
          "all": always selects every choice.
          "none": always selects none of the choices (why would anyone use this?!)
          "first": selects the first choice (another stupid one)
          "last": you guessed it, select the last choice
          "repeat-X": always selects every choice, and treats the choices as if 
          enough of them actually existed to select X** of them, even if not enough
          choices were given.
          "first-X": selects the first X** choices.
          "last-X": selects the last X** choices.
          "limit-x": selects up to X** random choices, but less is OK too if no more.
          "any-X": selects any X** of the choices, without repeating.  Make sure you
          have another choices to cover the possible value of X!
          "pick-X": same as "any-X", but the tag choices will be checked for the 
          "pickweight" attribute, which will be used as a relative weight when 
          selecting among the choices.
          ** Where you see X above, this may be a number, or a math formula or
          math expression. (see mud help on math formulas/math expressions)
"pickweight" A helper attribute for the "select" attribute, when a "pick" value is
          used by the select attribute.  See "select" attribute above.
"action"  used by string-type choices to inform the engine on how to combine the 
          multiple choices into a single string.  Possible values include:
          "append": append the tags value to the string as built so far.
          "replace": completely replace any string build so far with this ones value.
          "prepend": always put this strings value at the beginning of the final string.
"requires" a comma-separated list of variable identifiers which must have already been
          defined before this tag can be evaluated.  Such variables are usually defined
          by the user of the GENERATE command, but can also be defined at parse-time by
          the "define" attribute, if you are creative.  Each item in the list is of the
          format "id=type", so that the parser can check to see not only if the variable
          is defined, but that it is defined properly.  Possible types include "#" for
          a number, "int" for an integer, "$" for a string, or a semicolon-delimited 
          list of possible string values.

Tag values:
A non-container non-basic tag will typically have a string value.  This value may contain
any embedded variables or identifiers, so long as they are preceded with a $ character.
A string beginning with a $ character will be assumed to be an identifier, and will be
searched for within the list of defined variables and identifiers.  If the identifier
resolves to a tag, the tag will be parsed as a string.  If the identifier resolves to
a string, so much the easier.  Tag names can also be embedded in {} characters; for
example: ${tagname}. When embedded in this way, the tagname may be preceeded by "u:" to
force to all-uppercase, "l:" to force all-lowercase, "p:" to force plural, or "c:" to
force to be capitalized (first letter upper, rest lower).

Special Tag values:
$SYSTEM_RANDOM_NAME:[NUMX]-[NUMY] generate a random name with between NUMX and NUMY syllables.

Objects:
Each basic tag type may contain other basic tag types to help define them.  For instance,
room tags may contain mob and item tags.

Details:
Each basic tag type is used to build an object of that type.  For instance, the MOB tag
is used to build a MOB.  Therefore, each basic object type must have other tags or attributes
to "fill in the details", such as name, level, and so forth.  These Details may be 
defined as variables on the command line using GENERATE or by the "define" attribute, or
may be given as an attribute of the basic tag, or as other tags inside the parent tag.  
A Detail given as an attribute always supercedes any detail given as internal tags, no 
matter what.  A detail found as an defined variable identifier, superces both tags and
attributes.

Basic tags may also have special pre-defined variables to help give some context to help
with their parsing, and will often cause variables to be defined as their details are 
filled in.  Basic tags also have certain required details which must be resolved for the
object to be created, and other optional details which may or may not be given, and which
are extremely object-specific.
----------------------------------------
AREA Basic tags: 
As the highest-level possible tag, an area is parsed only with the variables
it is given on the GENERATE command line, and using whatever it can find in its XML
contents for its details.  All details mentioned below will automatically cause a
variable to be defined or re-defined when they are parsed.  The variable will be 
called "AREA_DETAILNAME".  For instance "AREA_CLASS" for class, and "AREA_NAME" for name.

The layout of an area will cause its rooms to be logically grouped up into streets,
"leaf" rooms (rooms with only one exist), and other logical groupings.  "leaf" rooms
are always done first, followed by streets, and others.  The layout will automatically
define certain variables for each room to help with parsing the rooms details.  These
variables include:
AREA_NUMLEAFS: the number of leaf rooms for the whole area
ROOMTAG_NODETYPE: one of surround, leaf, offleaf, street, square, interior
ROOMTAG_NODERUN: for streets, which way they run.  Values are ns, ew, nwse, nesw
ROOMTAG_NODEFLAGS: various rooms flags. Values include: corner, gate, intersection, tee, offleaf 
ROOMTAG_NODEEXITS: comma separated list of all exits from a room
ROOMTAG_NODEGATEEXIT: if this room is a "gate" rooms, which direction is the gate in.
ROOMLINK_N, ROOMLINK_S, ROOMLINK_E, ROOMLINK_W, etc: "true" if an exit exists that way.
ROOMTITLE_N, ROOMTITLE_S, ROOMTITLE_E, ROOMTITLE_W, etc: if already done, the title of a room that way.

Required details:
"class"        The CoffeeMud class type to use to create the area.
"name"         The name of the area.  Must be unique to your MUD.
"layout"       The name of the layout generator to use.  At the moment, supported 
               layouts include MAZE, BOXCITY, BOXCITYSQUARE, CROSS, GRIDCITY, TREE,
               APARTMENT
"size"         The number of rooms to create in the area.

Optional objects: (See below for details on these object tag types and their details)
"AFFECT", "BEHAVIOR", "ROOM"

Optional details: (See Archon's Guide)
"CLIMATE", "DESCRIPTION", "THEME", "BLURBS", "PREJUDICE", "BUDGET", "DEVALRATE",
"INVRESETRATE", "IGNOREMASK", "PRICEMASKS"  


----------------------------------------
ROOM Basic tags:
Parsed with variables from the generate command, and from any defined variables internal, and
from any internal tags and attributes, and from any variables defined by its AREA tag. As
with areas, its details will cause variables beginning with ROOM_ to be defined.

Required details: 
"class", "title", "description"

Optional Objects: (See below for details on these object tag types and their details) 
"MOB","ITEM","AFFECT", "BEHAVIOR", "EXIT"

You can also specify a "LAYOUT" attribute on a room tag, in which case all rooms contained inside
that room tag (or inserted, or whatever) are used to build multiple rooms from that layout,
much as specified above on the AREA tag. 

----------------------------------------
MOB Basic tags:
Parsed with variables from the generate command, and from any defined variables internal, and
from any internal tags and attributes, and from any variables defined by other room tags. As
with areas, its details will cause variables beginning with MOB_ to be defined.
Required details: 
"class": normally the CoffeeMud class the mob will be made from, though it may also be the
word catalog in order to select a mob from your catalog, in which case "name" also becomes
a required detail.

Optional Objects: (See below for details on these object tag types and their details) 
"MOB","ITEM","AFFECT", "ABILITY", "BEHAVIOR", "EXIT", "FACTION"

Optional details: (See Archon's Guide)
"RACE","LEVEL","NAME","DISPLAY","DESCRIPTION","MONEY","ALIGNMENT", "DISPOSITION","SENSES",
"ARMOR","DAMAGE","ATTACK","SPEED","TATTS","EXPS","IMG","FACTIONS","VARMONEY"
(plus or minus others depending upon class)
The "RACE" detail can be the name of a race, or resolve to a RACE tag, see below.

----------------------------------------
Item Basic tags:
Parsed with variables from the generate command, and from any defined variables internal, and
from any internal tags and attributes, and from any variables defined by other room tags. As
with areas, its details will cause variables beginning with ITEM_ to be defined.
Required details: 
"class": normally the CoffeeMud class the item will be made from, though it may also be the
word catalog in order to select an item from your catalog, in which case "name" also becomes
a required detail.  This may also start with the string "metacraft:", in which case the 
remainder of the "class" value becomes either the name of the item to metacraft, the word "anything", 
"all", or the words "any-" or "all-" followed by the ID of the common skill to use. 
"metacraft:" class strings may also end with the characters "<" followed by a math expression 
evaluating to an upper level limit for the item to craft, ">" for a lower limit, or "=" followed
by a the base class ID to to filter in.

Optional Objects: (See below for details on these object tag types and their details) 
"MOB","ITEM","AFFECT", "CONTENT", "BEHAVIOR", "EXIT"

Optional details: (See Archon's Guide)
"USES","LEVEL","ABILITY","NAME", "DISPLAY","DESCRIPTION","SECRET","PROPERWORN", "WORNAND",
"BASEGOLD","ISREADABLE","ISDROPPABLE", "ISREMOVABLE","MATERIAL","AFFBEHAV", "DISPOSITION",
"WEIGHT","ARMOR", "DAMAGE","ATTACK","READABLETEXT","IMG"
(plus or minus many many others depending upon class)

"ShopKeeper" type classes may use "SHOPINVENTORY" tags to hold ITEM, MOB, or ABILITY tags
to designate what else is sold.  Also, the SHOPINVENTORY or those ITEM, MOB, or ABILITY tags 
may contain optional PRICE or NUMBER attributes.

----------------------------------------
Affect, Ability, Behavior tags:
Required detail: "class"
Optional Detail: "parms"

----------------------------------------
Content tags:
A pure container tag that contains one or more ITEM tags, as above.

----------------------------------------
Exit tags:
Required detail: "class"
Optional Objects: "AFFECT","BEHAVIOR", "CLASS","NAME","DISPLAY","DESCRIPTION","DOOR",
"LEVEL","ABILITY","ISREADABLE","AFFBEHAV","DISPOSITION", "READABLETEXT","HASADOOR",
"DEFCLOSED","HASALOCK","DEFLOCKED",	"KEYNAME"

----------------------------------------
Race tags:
Required detail: "class", "name"
Warning: Generating a custom race will add the race to your database!
Optional Objects: "CAT","VWEIGHT","BWEIGHT","VHEIGHT","FHEIGHT","MHEIGHT","AVAIL","LEAVE",
"NUMRABLE","GETRABLE<number>","GETRABLEPROF<number>","GETRABLEQUAL<number>","GETRABLELVL<number>",
"NUMCABLE<number>","GETCABLE<number>","GETCABLEPROF<number>","BODYKILL","AGING", "HELP"
"NUMREFF","GETREFF<number>","GETREFFPARM<number>","GETREFFLVL<number>","BREATHES","ARRIVE",
"HEALTHRACE","BODY","WEAPONRACE","DISFLAGS","EVENTRACE",

Special Optional Objects:
"WEAR" - either a bitmask number, or wear locations names set equal to true to forbid, 
	or false to allow, e.g (mouth=true back=false left_wrist=false)
"ESTATS","ASTATS","CSTATS","ASTATE","STARTASTATE" - either a | delimited stat list, 
	or a series of var=value, e.g. (STRENGTH=5 HITS=2 ATTACK=2 etc..)
"NUMRSC","NUMOFT" - the name of an item tag or tags to designate the race resources and outfit respectively.
"WEAPONCLASS" - the name of an item tag or tags from which the race natural weapon is chosen

----------------------------------------
Faction tags:
Required details: "id" "value"

-->
<AREADATA>

<STRING load="/resources/randareas/inc_roomruns.xml" />
<STRING load="/resources/randareas/inc_adjectives.xml" />
<STRING load="/resources/randareas/inc_streetnames.xml" />
<STRING load="/resources/randareas/inc_fantasynames.xml" />

<STRING load="/resources/randareas/inc_forest.xml" />
<STRING load="/resources/randareas/inc_town.xml" />
<STRING load="/resources/randareas/inc_prison.xml" />
<STRING load="/resources/randareas/inc_rats.xml" />

<AREA id="maze_dungeon" layout="MAZE" requires="areaname=$,areasize=int,level_range=int,aggrochance=int,theme=prison;rats;kobolds;forest;goblins;orcs;trolls;town;random">
	<NAME>$areaname</NAME><SIZE>$areasize</SIZE>
	<CLASS select="any-1"><CLASS condition="$areatype!=''">$areatype</CLASS><CLASS condition="$areatype=''">StdArea</CLASS></CLASS>
	<ROOM id="other_rooms" insert="hallway_rooms,interior_rooms,leaf_rooms" />
	<BEHAVIOR select="all" id="dungeon_behaviors">
		<BEHAVIOR condition="$theme='kobolds' or $theme='goblins'" class="RandomTraps" parms="mintraps=1 maxtraps=$AREA_SIZE/2 rooms=Y exits=Y" />
		<BEHAVIOR condition="$theme='random'" class="RandomTraps" parms="mintraps=1 maxtraps=3 rooms=Y exits=Y" />
		<BEHAVIOR condition="$theme='town'" class="Arrest" parms="laws.ini;OFFICERS=&quot;\&quot;$__officertype\&quot;&quot; JUDGE=&quot;\&quot;$__chieftype\&quot;&quot;"/>
	</BEHAVIOR>
</AREA>
<AREA id="grid_dungeon" like="maze_dungeon" layout="GRIDCITY" requires="areaname=$,areasize=int,level_range=int,aggrochance=int,theme=prison;rats;kobolds;forest;goblins;orcs;trolls;town;random" >
</AREA>
<AREA id="square_dungeon" like="maze_dungeon" layout="BOXCITYSQUARE" requires="areaname=$,areasize=int,level_range=int,aggrochance=int,theme=prison;rats;kobolds;forest;goblins;orcs;trolls;town;random" >
</AREA>
<AREA id="box_dungeon" like="maze_dungeon" layout="BOXCITY" requires="areaname=$,areasize=int,level_range=int,aggrochance=int,theme=prison;rats;kobolds;forest;goblins;orcs;trolls;town;random" >
</AREA>
<AREA id="cross_dungeon" like="maze_dungeon" layout="CROSS" requires="areaname=$,areasize=int,level_range=int,aggrochance=int,theme=prison;rats;kobolds;forest;goblins;orcs;trolls;town;random" >
</AREA>
<AREA id="tree_dungeon" like="maze_dungeon" layout="TREE" requires="areaname=$,areasize=int,level_range=int,aggrochance=int,theme=prison;rats;kobolds;forest;goblins;orcs;trolls;town;random" >
</AREA>
<AREA id="random_dungeon" select="any" requires="areaname=$" condition="$theme!='town'"
	insert="maze_dungeon,grid_dungeon,square_dungeon,box_dungeon,cross_dungeon,tree_dungeon" 
	predefine="areasize=$randomareasize,level_range=$randomlevelrange,aggrochance=10+$level_range,theme=$randomtheme" >
</AREA>
<string id="randomareasize" select="any-1"><string condition="$areasize!=''">$areasize</string><string condition="$areasize=''">30?60</string></string>
<string id="randomlevelrange" select="any-1"><string condition="$level_range!=''">$level_range</string><string condition="$level_range=''">1?91</string></string>
<string id="randomtheme" select="any-1"><string condition="$theme!=''">$theme</string><string select="all" condition="$theme=''">
	<string>prison</string><string>rats</string><string>kobolds</string><string>forest</string>
	<string>goblins</string><string>orcs</string><string>trolls</string><string>random</string>
</string>

<STRING id="nasty_race_name" select="any-1">
	<string condition="$theme='kobolds' or $theme='random'" define="nasty_race_name">kobold</string>
	<string condition="$theme='goblins' or $theme='random'" define="nasty_race_name">goblin</string>
	<string condition="$theme='orcs' or $theme='random'" define="nasty_race_name">orc</string>
	<string condition="$theme='trolls' or $theme='random'" define="nasty_race_name">troll</string>
	<string condition="$theme!='goblins' and $theme!='orcs' and $theme!='trolls' and $theme!='kobolds' and $theme!='random'" define="nasty_race_name">kobold</string>
</STRING>

<STRING id="_dungeon_tunnelword" define="_dungeon_tunnelword" select="any-1">
	<STRING>tunnel</STRING>
	<STRING>corridor</STRING>
	<STRING>tube</STRING>
	<STRING>hallway</STRING>
	<STRING>passageway</STRING>
</STRING>

<ROOM id="hallway_rooms" select="pick-1" insert="forest_street_rooms,town_street_rooms" condition="$roomtag_nodetype='street' or $roomtag_nodetype='surround'">
	<ROOM class="CaveRoom" pickweight="5" condition="$theme!='town' and $theme!='forest'">
		<TITLE>$a_streetprefix $_dungeon_hallways_street_name</TITLE>
		<STRING id="_dungeon_crawlways_street_name" define="_dungeon_crawlways_street_name" select="any-1">
			<STRING>small $_dungeon_hallways_street_name</STRING>
			<STRING>narrow $_dungeon_hallways_street_name</STRING>
			<STRING>short $_dungeon_hallways_street_name</STRING>
		</STRING>
		<DESCRIPTION>$dungeon_hallways_street_desc</DESCRIPTION>
		<STRING id="dungeon_hallways_street_desc" select="all">
			<STRING select="any-1" action="PREPEND">
				<STRING>You stand in (a(n)) $adj_any $_dungeon_tunnelword that runs steeply $roomrun_desc_long.</STRING> 
				<STRING>This $adj_any $_dungeon_tunnelword runs steeply $roomrun_desc_long.</STRING> 
				<STRING>You are in (a(n)) $adj_any $_dungeon_tunnelword running $roomrun_desc_long.</STRING> 
				<STRING>This $adj_any $_dungeon_tunnelword runs $roomrun_desc_long.</STRING> 
				<STRING>You are walking through (a(n)) $adj_any $_dungeon_tunnelword running $roomrun_desc_long.</STRING>
				<STRING>This $adj_any $_dungeon_tunnelword heads $roomrun_desc_long.</STRING>
				<STRING>This $adj_any $_dungeon_tunnelword seems to head $roomrun_desc_long.</STRING>
			</STRING>
			<STRING select="all" id="dungeon_other_exits" action="APPEND" insert="desc_exits" />
			<STRING select="any-1" insert="dungeon_random_blurbs" action="APPEND" />
		</STRING>
		<EXIT class="Open" />
		<MOB condition="1?2=1" select="any-1" insert="dungeon_mobs" />
		<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
	</ROOM>
	<ROOM class="CaveRoom" pickweight="1" condition="$theme!='town' and $theme!='forest'">
		<TITLE>$a_streetprefix $_dungeon_crawlways_street_name</TITLE>
		<STRING id="_dungeon_hallways_street_name" define="_dungeon_hallways_street_name" select="any-1">
			<STRING>cavernous $_dungeon_tunnelword</STRING>
			<STRING>rocky $_dungeon_tunnelword</STRING>
			<STRING>$_dungeon_tunnelword</STRING>
			<STRING>dark cave $_dungeon_tunnelword</STRING>
			<STRING>cavernous $roomrun_desc $_dungeon_tunnelword</STRING>
			<STRING>rocky $roomrun_desc $_dungeon_tunnelword</STRING>
			<STRING>$roomrun_desc $_dungeon_tunnelword</STRING>
			<STRING>dark $roomrun_desc cave $_dungeon_tunnelword</STRING>
		</STRING>
		<DESCRIPTION>$dungeon_crawlways_street_desc</DESCRIPTION>
		<STRING id="dungeon_crawlways_street_desc" select="all">
			<STRING select="any-1" action="prepend">
				<STRING>You are in (a(n)) $adj_anynosize $_dungeon_tunnelword that runs narrowly $roomrun_desc_long.</STRING> 
				<STRING>This $adj_anynosize $_dungeon_tunnelword runs narrowly $roomrun_desc_long.</STRING> 
				<STRING>You are in (a(n)) $adj_anynosize $_dungeon_tunnelword squeezing $roomrun_desc_long.</STRING> 
				<STRING>This $adj_anynosize $_dungeon_tunnelword runs $roomrun_desc_long.</STRING> 
				<STRING>You are going through (a(n)) $adj_anynosize $_dungeon_tunnelword running $roomrun_desc_long.</STRING>
				<STRING>This $adj_anynosize $_dungeon_tunnelword heads $roomrun_desc_long.</STRING>
				<STRING>This $adj_anynosize $_dungeon_tunnelword seems to head $roomrun_desc_long.</STRING>
			</STRING>
			<STRING select="any-1">
				<STRING>The $adj_phys_nosize ceiling is very low.</STRING>
				<STRING>The $adj_phys_nosize ceiling is lower than usual.</STRING>
			</STRING>
			<STRING select="any-1" insert="dungeon_random_blurbs" action="APPEND" />
		</STRING>
		<AFFECT class="Prop_Crawlspace" parms="" />
		<EXIT class="Open" />
		<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
	</ROOM>
</ROOM>

<ROOM id="interior_rooms" insert="town_interior_rooms,forest_interior_rooms" select="any-1" condition="$roomtag_nodetype='interior' or $roomtag_nodetype='square'">
	<ROOM class="CaveRoom" condition="$theme!='town' and $theme!='forest'">
		<TITLE>$a_streetprefix $_dungeon_hallways_street_name</TITLE>
		<DESCRIPTION>$dungeon_interior_desc</DESCRIPTION>
		<EXIT class="Open" />
		<MOB condition="1?3=1" select="any-1" insert="dungeon_mobs" />
		<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
	</ROOM>
</ROOM>

<STRING id="dungeon_interior_desc" select="all">
	<STRING select="any-1" action="PREPEND">
		<STRING>You are standing  in (a(n)) $adj_any $_dungeon_tunnelword that branches $roomexits_desc_long.</STRING> 
		<STRING>This $adj_any $_dungeon_tunnelword branches steeply $roomexits_desc_long.</STRING> 
		<STRING>You are in (a(n)) $adj_any $_dungeon_tunnelword running $roomexits_desc_long.</STRING> 
		<STRING>This $adj_any $_dungeon_tunnelword runs $roomexits_desc_long.</STRING> 
		<STRING>You are walking through (a(n)) $adj_any $_dungeon_tunnelword heading $roomexits_desc_long.</STRING>
		<STRING>This $adj_any $_dungeon_tunnelword heads $roomexits_desc_long.</STRING>
		<STRING>This $adj_any $_dungeon_tunnelword seems to head $roomexits_desc_long.</STRING>
	</STRING>
	<STRING select="any-2" insert="dungeon_random_blurbs" action="APPEND" />
	<STRING select="all" insert="dungeon_other_exits" action="APPEND" />
</STRING>

<ROOM id="leaf_rooms" select="any-1" insert="forest_leaf_rooms,town_leaf_rooms,prison_leaf_rooms,rats_leaf_rooms" condition="$roomtag_nodetype='leaf'">
	<ROOM select="all" condition="$theme='kobolds' or $theme='goblins' or $theme='orcs' or $theme='trolls' or $theme='random'">
		<ROOM class="CaveRoom" predefine="nasty_picked_race=${l:nasty_race_name}">
			<TITLE>a $nasty_picked_race nursury</TITLE>
			<DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>You are standing in (a(n)) $adj_phys_size $nasty_picked_race nursury. Everything here is $adj_phys_nosize and $adj_nasty.</DESCRIPTION>
					<DESCRIPTION>You`re inside (a(n)) $adj_phys_size $nasty_picked_race nursury. This place is $adj_phys_nosize and $adj_nasty.</DESCRIPTION>
					<DESCRIPTION>You`ve found (a(n)) $adj_phys_size $nasty_picked_race nursury. Conditions here are $adj_phys_nosize and $adj_nasty.</DESCRIPTION>
					<DESCRIPTION>This is (a(n)) $adj_phys_size $nasty_picked_race nursury. It is $adj_phys_nosize and $adj_nasty.</DESCRIPTION>
					<DESCRIPTION>You are confused by (a(n)) $adj_phys_size $nasty_picked_race nursury. Everything here is $adj_phys_nosize and $adj_nasty.</DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>It`s amazing those creatures ever see adulthood.</DESCRIPTION>
					<DESCRIPTION>You are astonished that ${nasty_picked_race}s actually seem worse as children. </DESCRIPTION>
					<DESCRIPTION>It just didn`t seem ${nasty_picked_race}s could be any worse, but they can. </DESCRIPTION>
					<DESCRIPTION>You discover that ${nasty_picked_race}s start off smaller and meaner.</DESCRIPTION>
					<DESCRIPTION>It is just astonishing that ${nasty_picked_race}s live past this age. </DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">$random_badsmell</DESCRIPTION>
				<DESCRIPTION select="any-1">$dungeon_random_blurb</DESCRIPTION>
				<DESCRIPTION select="any-1">$nasty_lair_exit</DESCRIPTION>
			</DESCRIPTION>
			<EXIT class="Door" />
			<MOB select="repeat-2?6" insert="nasty_lair_kid" />
			<MOB class="GenMob" level="($level_range) / 2" id="nasty_lair_kid" race="$nasty_picked_race" gender="$anygender">
				<NAME select="pick-1">
					<NAME pickweight="5">(a(n)) $adj_nasty_animal ${l:mob_race} child</NAME>
					<NAME pickweight="1">a ${l:mob_race} kid</NAME>
				</NAME>
				<DISPLAY select="pick-1">
					<DISPLAY pickweight="1">$mob_name sneaks around.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name charges at a wall.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name is getting into trouble.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name is making trouble.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name is watching you.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name is picking its nose.</DISPLAY>
					<DISPLAY pickweight="5">$mob_name is here.</DISPLAY>
				</DISPLAY>
				<ALIGNMENT>-10000</ALIGNMENT>
				<ABILITY select="all">
					<ABILITY condition="1?3=1" class="Skill_Trip" />
					<ABILITY condition="1?3=1" class="Skill_Dirt" />
					<ABILITY condition="1?3=1" class="Thief_Distract" />
				</ABILITY>
				<BEHAVIOR select="all">
					<BEHAVIOR condition="1?100&lt;$aggrochance"  class="Aggressive" parms="" />
					<BEHAVIOR class="MudChat" parms="" />
					<BEHAVIOR condition="1?2=1"  class="BrotherHelper" parms="" />
					<BEHAVIOR class="Scavenger" parms="" />
					<BEHAVIOR class="CombatAbilities" parms="" />
				</BEHAVIOR>
				<ITEM class="GenArmor" LEVEL="$mob_level">
					<NAME select="any-1"><NAME>(a(n)) $adj_smallragged diaper</NAME><NAME>(a(n)) $adj_smallragged diaper</NAME></NAME>
					<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>WAIST</PROPERWORN>
				</ITEM>
				<ITEM class="GenItem" LEVEL="$mob_level" condition="1?2=1">
					<NAME select="any-1"><NAME>(a(n)) $adj_smallragged toy</NAME><NAME>(a(n)) $adj_smallragged toy</NAME></NAME>
					<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>OAK</MATERIAL>
				</ITEM>
				<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
			</MOB>
			<MOB class="GenMob" level="(1.10 * ($level_range)) + 1" race="$nasty_picked_race" gender="F">
				<NAME>a ${l:mob_race} nanny</NAME>
				<DISPLAY select="pick-1">
					<DISPLAY pickweight="1">$mob_name stands around.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name charges at a kid.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name is maintaining the trouble level.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name is watching trouble being made.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name is watching you.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name is picking on a kid.</DISPLAY>
				</DISPLAY>
				<ALIGNMENT>-10000</ALIGNMENT>
				<ABILITY select="all">
					<ABILITY condition="1?3=1" class="Skill_Trip" />
					<ABILITY condition="1?3=1" class="Skill_Dirt" />
					<ABILITY condition="1?3=1" class="Skill_Disarm" />
					<ABILITY condition="1?3=1" class="Thief_Distract" />
				</ABILITY>
				<BEHAVIOR select="all">
					<BEHAVIOR condition="1?100&lt;$aggrochance"  class="Aggressive" parms="" />
					<BEHAVIOR class="MudChat" parms="" />
					<BEHAVIOR condition="1?2=1"  class="BrotherHelper" parms="" />
					<BEHAVIOR class="Scavenger" parms="" />
					<BEHAVIOR class="CombatAbilities" parms="" />
				</BEHAVIOR>
				<ITEM select="pick-1?3">
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level">
						<NAME select="any-1"><NAME>(a(n)) $adj_smallragged leather hat</NAME><NAME>(a(n)) $adj_smallragged hat</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>HEAD</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level">
						<NAME select="any-1"><NAME>(a(n)) $adj_smallragged leather blouse</NAME><NAME>(a(n)) $adj_smallragged blouse</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>TORSO</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level">
						<NAME select="any-1"><NAME>a pair of $adj_smallragged leather dress</NAME><NAME>a pair of $adj_smallragged dress</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>LEGS</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level">
						<NAME select="any-1"><NAME>a pair of $adj_smallragged leather sleeves</NAME><NAME>a pair of $adj_smallragged sleeves</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>ARMS</PROPERWORN>
					</ITEM>
				</ITEM>
				<ITEM select="pick-1">
					<ITEM pickweight="1" class="GenWeapon" LEVEL="$mob_level">
						<NAME>a sharp $adj_smallragged stick</NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY>
						<MATERIAL>OAK</MATERIAL>
						<WEAPONCLASS>DAGGER</WEAPONCLASS>
						<WEAPONTYPE>PIERCING</WEAPONTYPE>
					</ITEM>
				</ITEM>
				<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
			</MOB>
			<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
		</ROOM>
		<ROOM class="CaveRoom">
			<TITLE select="any-1">
				<TITLE>a checkpoint</TITLE>
				<TITLE>a guardroom</TITLE>
			</TITLE>
			<DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>You are standing in $ROOM_TITLE.</DESCRIPTION>
					<DESCRIPTION>You are in $ROOM_TITLE.</DESCRIPTION>
					<DESCRIPTION>You`re inside $ROOM_TITLE.</DESCRIPTION>
					<DESCRIPTION>This is $ROOM_TITLE.</DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">$dungeon_random_blurb</DESCRIPTION>
				<DESCRIPTION select="any-1">$nasty_lair_exit</DESCRIPTION>
			</DESCRIPTION>
			<EXIT class="Door" />
			<MOB select="repeat-1?3" insert="nasty_lair_guard" />
			<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
		</ROOM>
		<ROOM class="CaveRoom" condition="$theme='kobolds' or $theme='goblins' or $theme='random'" predefine="nasty_picked_race=${l:nasty_race_name}">
			<TITLE>a $nasty_picked_race workshop</TITLE>
			<DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>You are standing in (a(n)) $adj_phys_size $nasty_picked_race workshop.</DESCRIPTION>
					<DESCRIPTION>You`re inside (a(n)) $adj_phys_size $nasty_picked_race workshop. </DESCRIPTION>
					<DESCRIPTION>You`ve found (a(n)) $adj_phys_size $nasty_picked_race workshop. </DESCRIPTION>
					<DESCRIPTION>This is (a(n)) $adj_phys_size $nasty_picked_race workshop. </DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>Trap-Making implements are all over the place.</DESCRIPTION>
					<DESCRIPTION>Junk is scattered all over the place. </DESCRIPTION>
					<DESCRIPTION>Explosive components and trip wires are all over. </DESCRIPTION>
					<DESCRIPTION>Pieces of $nasty_picked_race traps are scattered about. </DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>You do not feel safe here.</DESCRIPTION>
					<DESCRIPTION>This place seems downright dangerous. </DESCRIPTION>
					<DESCRIPTION>This can`t be a good place to be. </DESCRIPTION>
					<DESCRIPTION>You can`t imagine a more dangerous spot to be standing in. </DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">$dungeon_random_blurb</DESCRIPTION>
				<DESCRIPTION select="any-1">$nasty_lair_exit</DESCRIPTION>
			</DESCRIPTION>
			<EXIT class="Door" />
			<MOB select="repeat-1?3" insert="nasty_lair_tinkerer" />
			<MOB class="GenMob" level="$level_range" id="nasty_lair_tinkerer" race="$nasty_picked_race" gender="$anygender">
				<NAME>a ${l:mob_race} tinkerer</NAME>
				<DISPLAY select="pick-1">
					<DISPLAY pickweight="1">$mob_name stands around.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name seems disturbed by the interruption.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name is doing some maintenance.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name is constructing trouble for someone.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name is watching you.</DISPLAY>
					<DISPLAY pickweight="2">$mob_name is taking something apart.</DISPLAY>
					<DISPLAY pickweight="2">$mob_name is putting something together.</DISPLAY>
				</DISPLAY>
				<ALIGNMENT>-10000</ALIGNMENT>
				<ABILITY select="all">
					<ABILITY condition="1?3=1" class="Skill_Trip" />
					<ABILITY condition="1?3=1" class="Skill_Dirt" />
					<ABILITY condition="1?3=1" class="Skill_Disarm" />
					<ABILITY condition="1?3=1" class="Thief_Distract" />
				</ABILITY>
				<BEHAVIOR select="all">
					<BEHAVIOR condition="1?100&lt;$aggrochance"  class="Aggressive" parms="" />
					<BEHAVIOR class="MudChat" parms="" />
					<BEHAVIOR condition="1?2=1"  class="BrotherHelper" parms="" />
					<BEHAVIOR class="Scavenger" parms="" />
					<BEHAVIOR class="CombatAbilities" parms="" />
				</BEHAVIOR>
				<ITEM select="pick-1?3">
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level">
						<NAME select="any-1"><NAME>(a(n)) $adj_smallragged pointy leather cap</NAME><NAME>(a(n)) $adj_smallragged pointy cap</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>HEAD</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level">
						<NAME select="any-1"><NAME>(a(n)) $adj_smallragged leather workvest</NAME><NAME>(a(n)) $adj_smallragged workvest</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>TORSO</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level">
						<NAME select="any-1"><NAME>a pair of $adj_smallragged leather work pants</NAME><NAME>a pair of $adj_smallragged work pants</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>LEGS</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level">
						<NAME select="any-1"><NAME>a pair of $adj_smallragged leather sleeves</NAME><NAME>a pair of $adj_smallragged sleeves</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>ARMS</PROPERWORN>
					</ITEM>
				</ITEM>
				<ITEM select="pick-1">
					<ITEM pickweight="1" class="GenWeapon" LEVEL="$mob_level">
						<NAME>(a(n)) $adj_smallragged tool</NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY>
						<MATERIAL>IRON</MATERIAL>
						<WEAPONCLASS>DAGGER</WEAPONCLASS>
						<WEAPONTYPE>PIERCING</WEAPONTYPE>
					</ITEM>
				</ITEM>
				<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
			</MOB>
			<ITEM class="GenTable" name="(a(n)) $adj_nasty table" display="$ITEM_NAME is here" isgettable="false"/>
			<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
		</ROOM>
		<ROOM class="CaveRoom">
			<TITLE select="any-1">
				<TITLE>a feed room</TITLE>
				<TITLE>a larder</TITLE>
			</TITLE>
			<DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>You are standing in $ROOM_TITLE.</DESCRIPTION>
					<DESCRIPTION>You are in $ROOM_TITLE.</DESCRIPTION>
					<DESCRIPTION>You`re inside $ROOM_TITLE.</DESCRIPTION>
					<DESCRIPTION>This is $ROOM_TITLE.</DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>The ${nasty_race_name}s must store their food here, if you can call it "food".</DESCRIPTION>
					<DESCRIPTION>This appears to be where they store their foodstuff.</DESCRIPTION>
					<DESCRIPTION>The ${nasty_race_name}s seem to keep their edibles stored here.</DESCRIPTION>
					<DESCRIPTION>What the ${nasty_race_name}s call food seems to be stored here.</DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">$dungeon_random_blurb</DESCRIPTION>
				<DESCRIPTION select="any-1">$nasty_lair_exit</DESCRIPTION>
			</DESCRIPTION>
			<ITEM select="any-2">
				<ITEM class="GenFoodResource" weight="10" name="some $adj_nasty meat" display="$item_name is stored here" material="MEAT" />
				<ITEM class="GenFoodResource" weight="10" name="some $adj_nasty bread" display="$item_name is stored here" material="bread" />
				<ITEM class="GenFoodResource" weight="10" name="some $adj_nasty mushrooms" display="$item_name is stored here" material="mushrooms" />
				<ITEM class="GenFoodResource" weight="10" name="some $adj_nasty fish" display="$item_name is stored here" material="fish" />
			</ITEM>
			<MOB select="all" insert="$dungeon_rat" condition="1?2=1" />
			<EXIT class="LockedDoor"  text="$areaname storekey"/>
			<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
		</ROOM>
		<ROOM class="CaveRoom">
			<TITLE>a store room</TITLE>
			<DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>You are standing in $ROOM_TITLE.</DESCRIPTION>
					<DESCRIPTION>You are in $ROOM_TITLE.</DESCRIPTION>
					<DESCRIPTION>You`re inside $ROOM_TITLE.</DESCRIPTION>
					<DESCRIPTION>This is $ROOM_TITLE.</DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>The ${nasty_race_name}s must store their $adj_nasty crap and junk here.</DESCRIPTION>
					<DESCRIPTION>This appears to be where they store their $adj_nasty junk.</DESCRIPTION>
					<DESCRIPTION>The ${nasty_race_name}s seem to keep their $adj_nasty crap stored here.</DESCRIPTION>
					<DESCRIPTION>What the ${nasty_race_name}s think is important seems to be stored here.</DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">$dungeon_random_blurb</DESCRIPTION>
				<DESCRIPTION select="any-1">$nasty_lair_exit</DESCRIPTION>
			</DESCRIPTION>
			<ITEM select="any-5">
				<ITEM class="metacraft:anything<$level_range"/>
				<ITEM class="metacraft:anything<$level_range" />
				<ITEM class="metacraft:anything<$level_range" />
				<ITEM class="metacraft:anything<$level_range" />
				<ITEM class="metacraft:anything<$level_range" />
			</ITEM>
			<MOB select="all" insert="$dungeon_rat" condition="1?2=1" />
			<EXIT select="pick-1">
				<EXIT pickweight=1 class="GenDoor" hasalock="true" deflocked="true" disposition="ISHIDDEN" keyname="$areaname storekey"/>
				<EXIT pickweight=2 class="GenDoor" hasalock="true" deflocked="true" keyname="$areaname storekey"/>
			</EXIT>
			<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
		</ROOM>
		<ROOM class="CaveRoom" predefine="nasty_picked_race=${l:nasty_race_name}">
			<TITLE>a kitchen</TITLE>
			<DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>You are standing in (a(n)) $adj_nasty $nasty_picked_race kitchen.</DESCRIPTION>
					<DESCRIPTION>You`re inside (a(n)) $adj_nasty $nasty_picked_race kitchen. </DESCRIPTION>
					<DESCRIPTION>You`ve found (a(n)) $adj_nasty $nasty_picked_race kitchen. </DESCRIPTION>
					<DESCRIPTION>This is (a(n)) $adj_nasty $nasty_picked_race kitchen. </DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>This place is an astounding mess.</DESCRIPTION>
					<DESCRIPTION>Food and clutter is scattered all over the place. </DESCRIPTION>
					<DESCRIPTION>Splatter and mess are everywhere you look. </DESCRIPTION>
					<DESCRIPTION>Pieces of $nasty_picked_race meals are scattered about. </DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>You do not feel sanitary here.</DESCRIPTION>
					<DESCRIPTION>This place seems downright nasty. </DESCRIPTION>
					<DESCRIPTION>This can`t be a good place to be. </DESCRIPTION>
					<DESCRIPTION>You can`t imagine a more disgusting spot to be standing in. </DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">$random_badsmell</DESCRIPTION>
				<DESCRIPTION select="any-1">$dungeon_random_blurb</DESCRIPTION>
				<DESCRIPTION select="any-1">$nasty_lair_exit</DESCRIPTION>
			</DESCRIPTION>
			<EXIT class="Door" />
			<MOB select="repeat-1?3" insert="nasty_lair_cook" />
			<MOB class="GenMob" level="$level_range" id="nasty_lair_cook" race="$nasty_picked_race" gender="F">
				<NAME>a ${l:mob_race} cook</NAME>
				<DISPLAY select="pick-1">
					<DISPLAY pickweight="1">$mob_name stands around.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name charges a burning potroast.</DISPLAY>
					<DISPLAY pickweight="2">$mob_name is making a mess.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name is watching water boil.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name is watching you.</DISPLAY>
					<DISPLAY pickweight="3">$mob_name is making something gross.</DISPLAY>
				</DISPLAY>
				<ALIGNMENT>-10000</ALIGNMENT>
				<ABILITY select="all">
					<ABILITY condition="1?3=1" class="Skill_Trip" />
					<ABILITY condition="1?3=1" class="Skill_Dirt" />
					<ABILITY condition="1?3=1" class="Skill_Disarm" />
					<ABILITY condition="1?3=1" class="Thief_Distract" />
				</ABILITY>
				<BEHAVIOR select="all">
					<BEHAVIOR condition="1?100&lt;$aggrochance"  class="Aggressive" parms="" />
					<BEHAVIOR class="MudChat" parms="" />
					<BEHAVIOR condition="1?2=1"  class="BrotherHelper" parms="" />
					<BEHAVIOR class="Scavenger" parms="" />
					<BEHAVIOR class="CombatAbilities" parms="" />
				</BEHAVIOR>
				<ITEM select="pick-1?3">
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level">
						<NAME select="any-1"><NAME>(a(n)) $adj_smallragged leather chefs hat</NAME><NAME>(a(n)) $adj_smallragged chefs hat</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>HEAD</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level">
						<NAME select="any-1"><NAME>a pair of $adj_smallragged leather apron</NAME><NAME>a pair of $adj_smallragged apron</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>BODY</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level">
						<NAME select="any-1"><NAME>a pair of $adj_smallragged leather sleeves</NAME><NAME>a pair of $adj_smallragged sleeves</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>ARMS</PROPERWORN>
					</ITEM>
				</ITEM>
				<ITEM select="pick-1">
					<ITEM pickweight="1" class="GenWeapon" LEVEL="$mob_level">
						<NAME>(a(n)) $adj_smallragged rolling pin</NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY>
						<MATERIAL>OAK</MATERIAL>
						<WEAPONCLASS>BLUNT</WEAPONCLASS>
						<WEAPONTYPE>BASHING</WEAPONTYPE>
					</ITEM>
				</ITEM>
				<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
			</MOB>
			<ITEM class="GenTable" name="(a(n)) $adj_nasty chopping table" display="$ITEM_NAME is here" isgettable="false"/>
			<ITEM class="metacraft:Oven" isgettable="false"/>
			<ITEM select="1?3" >
				<ITEM class="metacraft:Baking Pot" />
				<ITEM class="metacraft:Pan" />
				<ITEM class="metacraft:Pitcher" />
				<ITEM class="metacraft:Cup" />
				<ITEM class="metacraft:Bowl" />
			</ITEM>
			<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
		</ROOM>
		<ROOM class="CaveRoom" predefine="nasty_picked_race=$nasty_race_name">
			<TITLE>a common room</TITLE>
			<DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>You are standing in (a(n)) $adj_nasty $nasty_picked_race common room.</DESCRIPTION>
					<DESCRIPTION>You`re inside (a(n)) $adj_nasty $nasty_picked_race common room. </DESCRIPTION>
					<DESCRIPTION>You`ve found (a(n)) $adj_nasty $nasty_picked_race common room. </DESCRIPTION>
					<DESCRIPTION>This is (a(n)) $adj_nasty $nasty_picked_race common room. </DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>This place is one of mess and clutter.</DESCRIPTION>
					<DESCRIPTION>Junk and clutter is scattered all over the place. </DESCRIPTION>
					<DESCRIPTION>Clutter and junk are everywhere you look. </DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>You feel quite chaotic here.</DESCRIPTION>
					<DESCRIPTION>This place seems downright crazy. </DESCRIPTION>
					<DESCRIPTION>This can`t be a very serene place to be. </DESCRIPTION>
					<DESCRIPTION>You can`t imagine a more chaotic spot to be standing in. </DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">$dungeon_random_blurb</DESCRIPTION>
				<DESCRIPTION select="any-1">$nasty_lair_exit</DESCRIPTION>
			</DESCRIPTION>
			<EXIT class="Open" />
			<MOB select="repeat-2?5" insert="nasty_lair_peon" />
			<ITEM select="pick-1?2" >
				<ITEM pickweight="1" class="metacraft:chair" isgettable="false"/>
				<ITEM pickweight="2" class="metacraft:bench" isgettable="false"/>
			</ITEM>
			<ITEM select="1?2" >
				<ITEM class="metacraft:hammock" isgettable="false"/>
				<ITEM class="metacraft:whip"/>
				<ITEM class="metacraft:pants"/>
			</ITEM>
			<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
		</ROOM>
		<ROOM class="CaveRoom" condition="$theme='kobolds' or $theme='random'">
			<TITLE>a hatchery</TITLE>
			<DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>You are standing in (a(n)) $adj_nasty kobold hatchery.</DESCRIPTION>
					<DESCRIPTION>You`re inside (a(n)) $adj_nasty kobold hatchery. </DESCRIPTION>
					<DESCRIPTION>You`ve found (a(n)) $adj_nasty kobold hatchery. </DESCRIPTION>
					<DESCRIPTION>This is (a(n)) $adj_nasty kobold hatchery. </DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>Kobold eggs are scattered about haphazardly.</DESCRIPTION>
					<DESCRIPTION>Kobold eggs are scattered all over the place. </DESCRIPTION>
					<DESCRIPTION>Kobold eggs are everywhere you look. </DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>You feel quite serene here.  So different from other kobold locales.</DESCRIPTION>
					<DESCRIPTION>This place seems downright serene for a kobold lair. </DESCRIPTION>
					<DESCRIPTION>This must be the quietest room in the whole place. </DESCRIPTION>
					<DESCRIPTION>You can`t imagine a quieter spot in this lair to be standing in. </DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">$dungeon_random_blurb</DESCRIPTION>
				<DESCRIPTION select="any-1">$nasty_lair_exit</DESCRIPTION>
			</DESCRIPTION>			
			<EXIT select="pick-1">
				<EXIT pickweight=1 class="GenDoor" disposition="ISHIDDEN"/>
				<EXIT pickweight=2 class="GenDoor"/>
			</EXIT>
			<MOB select="repeat-1?2" insert="nasty_lair_guard" />
			<ITEM class="GenFoodResource" id="kobold_egg" name="some $adj_nasty kobold eggs" display="$item_name are here" material="EGGS" />
			<ITEM select="2?13" insert="kobold_egg,kobold_egg,kobold_egg,kobold_egg,kobold_egg,kobold_egg,kobold_egg,kobold_egg,kobold_egg,kobold_egg,kobold_egg,kobold_egg,kobold_egg" />
			<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
		</ROOM>
		<ROOM class="CaveRoom" condition="$__throneroom&lt;1" define="__throneroom+=1" predefine="nasty_picked_race=${l:nasty_race_name}">
			<TITLE>the throne room</TITLE>
			<DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>You are standing in the $adj_nasty $nasty_picked_race throne room.</DESCRIPTION>
					<DESCRIPTION>You`re inside the $adj_nasty $nasty_picked_race throne room. </DESCRIPTION>
					<DESCRIPTION>You`ve found the $adj_nasty $nasty_picked_race throne room. </DESCRIPTION>
					<DESCRIPTION>This is the $adj_nasty $nasty_picked_race throne room. </DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>This room is so plain, you can hardly believe royalty resides here.</DESCRIPTION>
					<DESCRIPTION>Utterly unremarkable, and a bit dirty. </DESCRIPTION>
					<DESCRIPTION>Plain and boring for the most part. </DESCRIPTION>
					<DESCRIPTION>A bit dirty, a lot ordinary, very unroyal. </DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">
					<DESCRIPTION>You don`t really feel in any awe.</DESCRIPTION>
					<DESCRIPTION>This place seems like any other $nasty_race_name room. </DESCRIPTION>
					<DESCRIPTION>This must be the most boring room in the whole place. </DESCRIPTION>
					<DESCRIPTION>You can`t imagine a more boring spot in this lair to be standing in. </DESCRIPTION>
				</DESCRIPTION>
				<DESCRIPTION select="any-1">$dungeon_random_blurb</DESCRIPTION>
				<DESCRIPTION select="any-1">$nasty_lair_exit</DESCRIPTION>
			</DESCRIPTION>			
			<EXIT class="LockedDoor" text="$areaname thronekey"/>
			<MOB select="repeat-5" insert="nasty_lair_guard" />
			<MOB class="GenMob" level="(1.20 * ($level_range)) + 1" id="nasty_lair_king" race="$nasty_picked_race" gender="M">
				<NAME>King $fantasy_name</NAME>
				<DISPLAY select="pick-1">
					<DISPLAY pickweight="1">$mob_name stands around.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name charges a fly buzzing around.</DISPLAY>
					<DISPLAY pickweight="2">$mob_name is making a mess of his kingdom.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name is watching mold grow.</DISPLAY>
					<DISPLAY pickweight="1">$mob_name is watching you.</DISPLAY>
					<DISPLAY pickweight="3">$mob_name is trying to be majestic.</DISPLAY>
				</DISPLAY>
				<ALIGNMENT>-10000</ALIGNMENT>
				<ABILITY select="all">
					<ABILITY condition="1?3=1" class="Skill_Trip" />
					<ABILITY condition="1?3=1" class="Skill_Dirt" />
					<ABILITY condition="1?3=1" class="Skill_Disarm" />
					<ABILITY condition="1?3=1" class="Thief_Distract" />
				</ABILITY>
				<BEHAVIOR select="all">
					<BEHAVIOR condition="1?100&lt;$aggrochance"  class="Aggressive" parms="" />
					<BEHAVIOR class="MudChat" parms="" />
					<BEHAVIOR condition="1?2=1"  class="BrotherHelper" parms="" />
					<BEHAVIOR class="Scavenger" parms="" />
					<BEHAVIOR class="CombatAbilities" parms="" />
					<BEHAVIOR class="ObjectGuardian" parms="" />
				</BEHAVIOR>
				<ITEM select="pick-1?3">
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level">
						<NAME select="any-1"><NAME>(a(n)) $adj_smallragged crown</NAME><NAME>(a(n)) $adj_smallragged crown</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>GOLD</MATERIAL><PROPERWORN>HEAD</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level">
						<NAME select="any-1"><NAME>(a(n)) $adj_smallragged golden belt</NAME><NAME>(a(n)) $adj_smallragged gold belt</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>GOLD</MATERIAL><PROPERWORN>WAIST</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level">
						<NAME select="any-1"><NAME>a pair of $adj_smallragged golden shoes</NAME><NAME>a pair of $adj_smallragged gold shoes</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>GOLD</MATERIAL><PROPERWORN>FEET</PROPERWORN>
					</ITEM>
				</ITEM>
				<ITEM select="pick-1">
					<ITEM pickweight="1" class="GenWeapon" LEVEL="$mob_level">
						<NAME>(a(n)) $adj_smallragged sceptor</NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY>
						<MATERIAL>GOLD</MATERIAL>
						<WEAPONCLASS>BLUNT</WEAPONCLASS>
						<WEAPONTYPE>BASHING</WEAPONTYPE>
					</ITEM>
				</ITEM>
				<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
			</MOB>
			<ITEM class="GenChair"  name="(a(n)) $adj_smallragged throne" display="$ITEM_NAME is here"  isgettable="false"/>
			<ITEM class="GenContainer" name="The kings chest" display="The kings chest is here" HASLID="true" HASLOCK="true" READABLETEXT="$areaname thronekey">
				<CONTENT>
					<ITEM select="any-5" insert="dungeon_treasure_items" />
				</CONTENT>
				<AFFECT condition="1?3=1" class="Prop_Hidden" />
			</ITEM>
		</ROOM>
	</ROOM>
</ROOM>

<STRING id="nasty_lair_exit" select="all">
	<STRING select="any-1">
		<STRING>The stinky hole you came through is to the $roomexits_desc_long.</STRING>
		<STRING>The way out of here is $roomexits_desc_long.</STRING>
		<STRING>The exit to the $roomexits_desc_long is the only way out.</STRING>
		<STRING>The only way out of here is $roomexits_desc_long.</STRING>
	</STRING>
</STRING>

<STRING id="dungeon_leaf_exit" select="any-1">
	<STRING id="dungeon_leaf_exits" select="all">
		<STRING>The exit is to the $roomexits_desc_long.</STRING>
		<STRING>The way out of here is $roomexits_desc_long.</STRING>
		<STRING>The exit to the $roomexits_desc_long is the only way out.</STRING>
		<STRING>The only way out of here is $roomexits_desc_long.</STRING>
	</STRING>
</STRING>

<STRING id="dungeon_random_blurb" select="any-1">
	<STRING id="dungeon_random_blurbs" select="all">
		<STRING select="any-1">
			<STRING>The $adj_any walls are nearly pitch black.</STRING>
			<STRING>The walls here are $adj_any.</STRING>
			<STRING>The walls are $adj_any.</STRING>
			<STRING>The walls are $adj_any and just slightly $adj_any.</STRING>
			<STRING>The $adj_any walls are tall and sheer.</STRING>
		</STRING>
		<STRING select="any-1">
			<STRING>The $adj_any floor has been worn down by years of use.</STRING>
			<STRING>The floor is $adj_any and appears unscathed by mass footfall.</STRING>
			<STRING>The $adj_any floor is bare and dirtless.</STRING>
			<STRING>The floor has bits of bones and rotten flesh.</STRING>
			<STRING>The $adj_any floor has bits of rotten and half-eaten animal parts.</STRING>
			<STRING>Earthly spines jut out from the ceiling and the floor.</STRING>
			<STRING>Sharp pointed rocks on the ceiling and floor provide plenty of navigational obstacles.</STRING>
		</STRING>
		<STRING>There are several menacing stalagtites and stalagmites to navigate around.</STRING>
		<STRING>A series of undecipherable scribbles sit on the walls.</STRING>
		<STRING>It looks like something might have died here.</STRING>
		<STRING>You might have just stepped on a frog.</STRING>
		<STRING>Something indescribable makes you feel lonesome and sad here.</STRING>
		<STRING select="any-1">
			<STRING>The $adj_any ceiling is too far above you to see clearly.</STRING>
			<STRING>The ceiling is $adj_any.</STRING>
			<STRING>The $adj_any ceiling is unsettling.</STRING>
		</STRING>
		<STRING select="any-1">
			<STRING>A layer of dirt upon the ground is marked with various tracks.</STRING>
			<STRING>Dust has settled on the ground from scarce use.</STRING>
		</STRING>
		<STRING condition="1?10 &lt;= 2">
			<STRING select="any-1"  id="random_badsmell">
				<STRING select="all" id="random_badsmells">
					<STRING>The stench is quite unbearable.</STRING>
					<STRING>A musty, dank smell wafts through the air.</STRING>
					<STRING>You think you smell brimstone.</STRING>
					<STRING>The first thing you notice is the stench.</STRING>
					<STRING>The stink in here is horrible.</STRING>
					<STRING>The foul smells here are overwhelming.</STRING>
					<STRING>You detect offensive odors all around..</STRING>
				</STRING>
			</STRING>
		</STRING>
		<STRING select="any-1">
			<STRING>The air is $adj_nonphys.</STRING>
			<STRING>$adj_nonphys air hovers around you.</STRING>
			<STRING>This air is $adj_nonphys and $adj_nonphys.</STRING>
			<STRING>The air is not quite as $adj_nonphys here.</STRING>
		</STRING>
		<STRING>This place is $adj_anynosize.</STRING>
		<STRING>You feel $adj_nonphys.</STRING>
		<STRING>You thought you felt a breeze.</STRING>
		<STRING select="any-1">
			<STRING>You think you heard a sound of faint trickling in the distance.</STRING>
			<STRING>The walls seems to groan.</STRING>
			<STRING>Faint $adj_scary_feeling sounds can be heard in the distance.</STRING>
		</STRING>
		<STRING insert="prison_random_blurbs" select="all"  condition="$theme='prison' or ($theme='random' and 1?10=1)" />
		<STRING select="all" condition="$theme='goblins' or ($theme='random' and 1?10=1)">
			<STRING>You hear $adj_scary_feeling snickering nearby.</STRING>
			<STRING>You hear the $adj_scary_feeling sounds of pattering feet nearby.</STRING>
			<STRING>You hear faint but $adj_scary_feeling squealing sounds echoing around you.</STRING>
			<STRING>By the smell, you are pretty sure this is another bathroom spot.</STRING>
			<STRING>It smells like something $adj_scary_feeling died in here.</STRING>
			<STRING>Bits of a sprung trap are splayed about.</STRING>
			<STRING>Several faint $adj_scary_feeling squealing voices echo in the distance.</STRING>
		</STRING>
		<STRING select="all" condition="$theme='orcs' or ($theme='random' and 1?10=1)">
			<STRING>You hear $adj_scary_feeling voices nearby.</STRING>
			<STRING>You hear the $adj_scary_feeling sounds of marching feet nearby.</STRING>
			<STRING>You hear faint but $adj_scary_feeling shouting voices echoing around you.</STRING>
			<STRING>By the smell, you are pretty sure this is another bathroom spot.</STRING>
			<STRING>It smells like something $adj_scary_feeling died in here.</STRING>
			<STRING>Bits of a dead $_humanoid_races are splayed about.</STRING>
			<STRING>Several faint $adj_scary_feeling argueing voices echo in the distance.</STRING>
		</STRING>
		<STRING select="all" condition="$theme='trolls' or ($theme='random' and 1?10=1)">
			<STRING>You hear $adj_scary_feeling growling nearby.</STRING>
			<STRING>You hear the $adj_scary_feeling sounds of heavy footsteps nearby.</STRING>
			<STRING>You hear faint but $adj_scary_feeling loud cries echoing around you.</STRING>
			<STRING>By the smell, you are pretty sure this is another bathroom spot.</STRING>
			<STRING>It smells like something $adj_scary_feeling died in here.</STRING>
			<STRING>Bits of a dead $_humanoid_races are splayed about.</STRING>
			<STRING>Several faint $adj_scary_feeling gutteral voices echo in the distance.</STRING>
		</STRING>
		<STRING insert="rats_random_blurbs" select="all" condition="$theme='rats' or ($theme='random' and 1?10=1)" />
	</STRING>
</STRING>
	
<MOB id="dungeon_mobs" select="all" insert="prison_mobs,rat_mobs" requires="level_range=int,theme=prison;rats;kobolds;orcs;trolls;goblins;random,aggrochance=int">
	
	<MOB select="all" id="nasty_lair_monster" condition="$theme='kobolds' or $theme='goblins' or $theme='orcs' or $theme='trolls' or $theme='random'">
		<MOB class="GenMob" level="$level_range" id="nasty_lair_guard" race="$nasty_race_name" gender="$anygender">
			<NAME select="pick-1">
				<NAME pickweight="1">(a(n)) $adj_nasty_animal ${l:mob_race} guard</NAME>
				<NAME pickweight="1">(a(n)) ${l:mob_race} guard</NAME>
			</NAME>
			<DISPLAY select="pick-1">
				<DISPLAY pickweight="1">$mob_name sneaks towards you.</DISPLAY>
				<DISPLAY pickweight="1">$mob_name charges at you.</DISPLAY>
				<DISPLAY pickweight="1">$mob_name is patrolling here.</DISPLAY>
				<DISPLAY condition="$theme='kobolds'" pickweight="1">$mob_name is lets out a loud YIP!.</DISPLAY>
				<DISPLAY pickweight="1">$mob_name is watching you.</DISPLAY>
				<DISPLAY pickweight="1">$mob_name is scowling at you.</DISPLAY>
				<DISPLAY pickweight="5">$mob_name is here.</DISPLAY>
			</DISPLAY>
			<ALIGNMENT>-10000</ALIGNMENT>
			<ABILITY select="all">
				<ABILITY condition="1?3=1" class="Skill_Trip" />
				<ABILITY condition="1?3=1" class="Skill_Dirt" />
				<ABILITY condition="1?3=1" class="Thief_Distract" />
				<ABILITY condition="$mob_level>5 and 1?3=1" class="Thief_Caltrops" />
				<ABILITY condition="$mob_level>5 and 1?3=1" class="Thief_SlickCaltrops" />
			</ABILITY>
			<BEHAVIOR select="all">
				<BEHAVIOR condition="$aggrochance&lt;0 and $roomtag_nodetype!='leaf'" class="MobileAggressive" parms="" />
				<BEHAVIOR condition="1?100&lt;$aggrochance"  class="Aggressive" parms="" />
				<BEHAVIOR class="MudChat" parms="" />
				<BEHAVIOR condition="1?2=1"  class="BrotherHelper" parms="" />
				<BEHAVIOR class="Mobile" condition="$roomtag_nodetype!='leaf'" parms="" />
				<BEHAVIOR class="Scavenger" parms="" />
				<BEHAVIOR class="CombatAbilities" parms="" />
			</BEHAVIOR>
			<ITEM select="all">
				<ITEM class="GenKey" LEVEL="1" READABLETEXT="$areaname storekey" name="a ${l:mob_race} key" material="iron" validate="1?10=1 or (1?2=1 and $__storekey&lt;2)" define="__storekey+=1"/>
				<ITEM class="GenKey" LEVEL="1" READABLETEXT="$areaname labkey"  name="a wierd ${l:mob_race} key" material="copper" validate="1?20=1 or (1?2=1 and $__labkey&lt;1)" define="__labkey+=1"/>
				<ITEM class="GenKey" LEVEL="1" READABLETEXT="$areaname thronekey"  name="a golden ${l:mob_race} key" material="gold" validate="1?10=1 or (1?2=1 and $__thronekey&lt;1)" define="__thronekey+=1"/>
				<ITEM class="GenShield" LEVEL="$mob_level" material="OAK" name="a wooden shield" display="a wooden shield sits here"/>
				<ITEM select="pick-1?3">
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level" condition="$mob_gender!='F'">
						<NAME select="any-1"><NAME>(a(n)) $adj_smallragged leather cap</NAME><NAME>(a(n)) $adj_smallragged cap</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>HEAD</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level" condition="$mob_gender!='F'">
						<NAME select="any-1"><NAME>(a(n)) $adj_smallragged leather vest</NAME><NAME>(a(n)) $adj_smallragged vest</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>TORSO</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level" condition="$mob_gender!='F'">
						<NAME select="any-1"><NAME>a pair of $adj_smallragged leather pants</NAME><NAME>a pair of $adj_smallragged pants</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>LEGS</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level">
						<NAME select="any-1"><NAME>a pair of $adj_smallragged leather sleeves</NAME><NAME>a pair of $adj_smallragged sleeves</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>ARMS</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level">
						<NAME select="any-1"><NAME>a pair of $adj_smallragged leather gloves</NAME><NAME>a pair of $adj_smallragged gloves</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>HANDS</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level" condition="$mob_gender='F'">
						<NAME select="any-1"><NAME>(a(n)) $adj_smallragged leather hat</NAME><NAME>(a(n)) $adj_smallragged hat</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>HEAD</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level" condition="$mob_gender='F'">
						<NAME select="any-1"><NAME>(a(n)) $adj_smallragged leather blouse</NAME><NAME>(a(n)) $adj_smallragged blouse</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>TORSO</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level" condition="$mob_gender='F'">
						<NAME select="any-1"><NAME>a pair of $adj_smallragged leather dress</NAME><NAME>a pair of $adj_smallragged dress</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>LEGS</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenDrink" LEVEL="1" NAME="a ragged waterskin" material="LEATHER" properworn="inventory">
						<DISPLAY>$item_name has been left here"</DISPLAY>
					</ITEM>
					<ITEM pickweight="1" class="GenFood" LEVEL="1" NAME="a bit of some animal" material="MEAT" properworn="inventory">
						<DISPLAY>$item_name has been left here"</DISPLAY>
					</ITEM>
				</ITEM>
				<ITEM select="pick-1">
					<ITEM pickweight="3" class="GenWeapon" LEVEL="$mob_level">
						<NAME>(a(n)) $adj_smallragged spear</NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY>
						<WEAPONCLASS>POLEARM</WEAPONCLASS>
						<WEAPONTYPE>PIERCING</WEAPONTYPE>
						<MATERIAL>OAK</MATERIAL>
					</ITEM>
					<ITEM pickweight="1" class="GenWeapon" LEVEL="$mob_level">
						<NAME>(a(n)) $adj_smallragged dagger</NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY>
						<WEAPONCLASS>DAGGER</WEAPONCLASS>
						<WEAPONTYPE>PIERCING</WEAPONTYPE>
						<MATERIAL>IRON</MATERIAL>
					</ITEM>
					<ITEM pickweight="1" class="GenWeapon" LEVEL="$mob_level">
						<NAME>a sharp $adj_smallragged stick</NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY>
						<MATERIAL>OAK</MATERIAL>
						<WEAPONCLASS>DAGGER</WEAPONCLASS>
						<WEAPONTYPE>PIERCING</WEAPONTYPE>
					</ITEM>
					<ITEM pickweight="1" class="GenWeapon" LEVEL="$mob_level">
						<NAME>a spiked $adj_smallragged mace</NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY>
						<MATERIAL>IRON</MATERIAL>
						<WEAPONCLASS>BLUNT</WEAPONCLASS>
						<WEAPONTYPE>BASHING</WEAPONTYPE>
					</ITEM>
				</ITEM>
			</ITEM>
			<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
		</MOB>
		<MOB class="GenMob" level="$level_range" id="nasty_lair_peon" race="$nasty_race_name" gender="$anygender">
			<NAME select="pick-1">
				<NAME pickweight="5">(a(n)) $adj_nasty_animal ${l:mob_race}</NAME>
				<NAME pickweight="1">(a(n)) ${l:mob_race}</NAME>
			</NAME>
			<DISPLAY select="pick-1">
				<DISPLAY pickweight="1">$mob_name sneaks towards you.</DISPLAY>
				<DISPLAY pickweight="1">$mob_name charges at you.</DISPLAY>
				<DISPLAY pickweight="1">$mob_name is patrolling here.</DISPLAY>
				<DISPLAY pickweight="1">$mob_name is scavenging for food.</DISPLAY>
				<DISPLAY pickweight="1">$mob_name is watching you.</DISPLAY>
				<DISPLAY pickweight="1">$mob_name is trying to hide from you.</DISPLAY>
				<DISPLAY pickweight="5">$mob_name is here.</DISPLAY>
			</DISPLAY>
			<ALIGNMENT>-10000</ALIGNMENT>
			<ABILITY select="all">
				<ABILITY condition="1?3=1" class="Skill_Trip" />
				<ABILITY condition="1?3=1" class="Skill_Dirt" />
				<ABILITY condition="1?3=1" class="Thief_Distract" />
				<ABILITY condition="$mob_level>5 and 1?3=1" class="Thief_Caltrops" />
				<ABILITY condition="$mob_level>5 and 1?3=1" class="Thief_SlickCaltrops" />
			</ABILITY>
			<BEHAVIOR select="all">
				<BEHAVIOR condition="$aggrochance&lt;0 and $roomtag_nodetype!='leaf'" class="MobileAggressive" parms="" />
				<BEHAVIOR condition="1?100&lt;$aggrochance"  class="Aggressive" parms="" />
				<BEHAVIOR condition="1?2=1"  class="Wimpy" parms="" />
				<BEHAVIOR class="MudChat" parms="" />
				<BEHAVIOR condition="1?2=1"  class="BrotherHelper" parms="" />
				<BEHAVIOR class="Mobile" condition="$roomtag_nodetype!='leaf'" parms="" />
				<BEHAVIOR class="Scavenger" parms="" />
				<BEHAVIOR class="CombatAbilities" parms="" />
			</BEHAVIOR>
			<ITEM select="all">
				<ITEM select="pick-1?3">
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level" condition="$mob_gender!='F'">
						<NAME select="any-1"><NAME>(a(n)) $adj_smallragged leather cap</NAME><NAME>(a(n)) $adj_smallragged cap</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>HEAD</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level" condition="$mob_gender!='F'">
						<NAME select="any-1"><NAME>(a(n)) $adj_smallragged leather vest</NAME><NAME>(a(n)) $adj_smallragged vest</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>TORSO</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level" condition="$mob_gender!='F'">
						<NAME select="any-1"><NAME>a pair of $adj_smallragged leather pants</NAME><NAME>a pair of $adj_smallragged pants</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>LEGS</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level">
						<NAME select="any-1"><NAME>a pair of $adj_smallragged leather sleeves</NAME><NAME>a pair of $adj_smallragged sleeves</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>ARMS</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level">
						<NAME select="any-1"><NAME>a pair of $adj_smallragged leather gloves</NAME><NAME>a pair of $adj_smallragged gloves</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>HANDS</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level" condition="$mob_gender='F'">
						<NAME select="any-1"><NAME>(a(n)) $adj_smallragged leather hat</NAME><NAME>(a(n)) $adj_smallragged hat</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>HEAD</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level" condition="$mob_gender='F'">
						<NAME select="any-1"><NAME>(a(n)) $adj_smallragged leather blouse</NAME><NAME>(a(n)) $adj_smallragged blouse</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>TORSO</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenArmor" LEVEL="$mob_level" condition="$mob_gender='F'">
						<NAME select="any-1"><NAME>a pair of $adj_smallragged leather dress</NAME><NAME>a pair of $adj_smallragged dress</NAME></NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY><MATERIAL>LEATHER</MATERIAL><PROPERWORN>LEGS</PROPERWORN>
					</ITEM>
					<ITEM pickweight="1" class="GenDrink" LEVEL="1" NAME="a ragged waterskin" material="LEATHER" properworn="inventory">
						<DISPLAY>$item_name has been left here"</DISPLAY>
					</ITEM>
					<ITEM pickweight="1" class="GenFood" LEVEL="1" NAME="a bit of some animal" material="MEAT" properworn="inventory">
						<DISPLAY>$item_name has been left here"</DISPLAY>
					</ITEM>
				</ITEM>
				<ITEM select="pick-1">
					<ITEM pickweight="3" class="GenWeapon" LEVEL="$mob_level">
						<NAME>(a(n)) $adj_smallragged spear</NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY>
						<WEAPONCLASS>POLEARM</WEAPONCLASS>
						<WEAPONTYPE>PIERCING</WEAPONTYPE>
						<MATERIAL>OAK</MATERIAL>
					</ITEM>
					<ITEM pickweight="1" class="GenWeapon" LEVEL="$mob_level">
						<NAME>(a(n)) $adj_smallragged dagger</NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY>
						<WEAPONCLASS>DAGGER</WEAPONCLASS>
						<WEAPONTYPE>PIERCING</WEAPONTYPE>
						<MATERIAL>IRON</MATERIAL>
					</ITEM>
					<ITEM pickweight="1" class="GenWeapon" LEVEL="$mob_level">
						<NAME>a sharp $adj_smallragged stick</NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY>
						<MATERIAL>OAK</MATERIAL>
						<WEAPONCLASS>DAGGER</WEAPONCLASS>
						<WEAPONTYPE>PIERCING</WEAPONTYPE>
					</ITEM>
					<ITEM pickweight="1" class="GenWeapon" LEVEL="$mob_level">
						<NAME>a spiked $adj_smallragged mace</NAME>
						<DISPLAY>$item_name has been left here"</DISPLAY>
						<MATERIAL>IRON</MATERIAL>
						<WEAPONCLASS>BLUNT</WEAPONCLASS>
						<WEAPONTYPE>BASHING</WEAPONTYPE>
					</ITEM>
				</ITEM>
			</ITEM>
			<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
		</MOB>
	</MOB>
</MOB>

<MOB class="GenUndead" level="$level_range" id="dungeon_skeleton" race="Skeleton" gender="N">
	<NAME>a skeleton</NAME>
	<DISPLAY select="pick-1">
		<DISPLAY pickweight="1">$mob_name rattles towards you.</DISPLAY>
		<DISPLAY pickweight="1">$mob_name wants to see you die.</DISPLAY>
		<DISPLAY pickweight="1">$mob_name is rattling towards you.</DISPLAY>
		<DISPLAY pickweight="1">$mob_name doesn`t know it`s dead.</DISPLAY>
		<DISPLAY pickweight="1">$mob_name is watching you.</DISPLAY>
		<DISPLAY pickweight="5">$mob_name is here.</DISPLAY>
	</DISPLAY>
	<ALIGNMENT>-10000?0</ALIGNMENT>
	<BEHAVIOR select="all">
		<BEHAVIOR condition="$aggrochance&lt;0 and $roomtag_nodetype!='leaf'" class="MobileAggressive" parms="" />
		<BEHAVIOR condition="1?100&lt;$aggrochance"  class="Aggressive" parms="" />
		<BEHAVIOR class="Mobile" condition="$roomtag_nodetype!='leaf'" parms="" />
	</BEHAVIOR>
	<ITEM select="pick-1">
		<ITEM pickweight="1" class="GenWeapon" LEVEL="$mob_level">
			<NAME>(a(n)) $adj_ragged spear</NAME>
			<DISPLAY>$item_name has been left here"</DISPLAY>
			<WEAPONCLASS>POLEARM</WEAPONCLASS>
			<WEAPONTYPE>PIERCING</WEAPONTYPE>
			<MATERIAL>OAK</MATERIAL>
		</ITEM>
		<ITEM pickweight="2" class="GenWeapon" LEVEL="$mob_level">
			<NAME>(a(n)) $adj_ragged sword</NAME>
			<DISPLAY>$item_name has been left here"</DISPLAY>
			<WEAPONCLASS>SWORD</WEAPONCLASS>
			<WEAPONTYPE>SLASHING</WEAPONTYPE>
			<MATERIAL>IRON</MATERIAL>
		</ITEM>
		<ITEM pickweight="1" class="GenWeapon" LEVEL="$mob_level">
			<NAME>(a(n)) $adj_ragged dagger</NAME>
			<DISPLAY>$item_name has been left here"</DISPLAY>
			<WEAPONCLASS>DAGGER</WEAPONCLASS>
			<WEAPONTYPE>PIERCING</WEAPONTYPE>
			<MATERIAL>IRON</MATERIAL>
		</ITEM>
		<ITEM pickweight="1" class="GenWeapon" LEVEL="$mob_level">
			<NAME>a spiked $adj_ragged mace</NAME>
			<DISPLAY>$item_name has been left here"</DISPLAY>
			<MATERIAL>IRON</MATERIAL>
			<WEAPONCLASS>BLUNT</WEAPONCLASS>
			<WEAPONTYPE>BASHING</WEAPONTYPE>
		</ITEM>
	</ITEM>
	<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
</MOB>
		
<MOB class="GenUndead" level="$level_range" id="dungeon_zombie" race="Undead" gender="$anygender">
	<NAME>(a(n)) ${l:any_humanoid_race} zombie</NAME>
	<DISPLAY select="pick-1">
		<DISPLAY pickweight="1">$mob_name lurches towards you.</DISPLAY>
		<DISPLAY pickweight="1">$mob_name wants to eat your brains.</DISPLAY>
		<DISPLAY pickweight="1">$mob_name is shuffling towards you.</DISPLAY>
		<DISPLAY pickweight="1">$mob_name doesn`t know it`s dead.</DISPLAY>
		<DISPLAY pickweight="1">$mob_name is watching you.</DISPLAY>
		<DISPLAY pickweight="5">$mob_name is here.</DISPLAY>
	</DISPLAY>
	<ALIGNMENT>-10000?0</ALIGNMENT>
	<BEHAVIOR select="all">
		<BEHAVIOR condition="$aggrochance&lt;0 and $roomtag_nodetype!='leaf'" class="MobileAggressive" parms="" />
		<BEHAVIOR condition="1?100&lt;$aggrochance"  class="Aggressive" parms="" />
		<BEHAVIOR class="Mobile" condition="$roomtag_nodetype!='leaf'" parms="" />
	</BEHAVIOR>
	<ITEM select="pick-1">
		<ITEM pickweight="1" class="GenWeapon" LEVEL="$mob_level">
			<NAME>(a(n)) $adj_ragged polearm</NAME>
			<DISPLAY>$item_name has been left here"</DISPLAY>
			<WEAPONCLASS>POLEARM</WEAPONCLASS>
			<WEAPONTYPE>PIERCING</WEAPONTYPE>
			<MATERIAL>IRON</MATERIAL>
		</ITEM>
		<ITEM pickweight="2" class="GenWeapon" LEVEL="$mob_level">
			<NAME>(a(n)) $adj_ragged blade</NAME>
			<DISPLAY>$item_name has been left here"</DISPLAY>
			<WEAPONCLASS>SWORD</WEAPONCLASS>
			<WEAPONTYPE>SLASHING</WEAPONTYPE>
			<MATERIAL>IRON</MATERIAL>
		</ITEM>
		<ITEM pickweight="1" class="GenWeapon" LEVEL="$mob_level">
			<NAME>(a(n)) $adj_ragged frogsticker</NAME>
			<DISPLAY>$item_name has been left here"</DISPLAY>
			<WEAPONCLASS>DAGGER</WEAPONCLASS>
			<WEAPONTYPE>PIERCING</WEAPONTYPE>
			<MATERIAL>IRON</MATERIAL>
		</ITEM>
		<ITEM pickweight="1" class="GenWeapon" LEVEL="$mob_level">
			<NAME>a spiked $adj_ragged club</NAME>
			<DISPLAY>$item_name has been left here"</DISPLAY>
			<MATERIAL>WOOD</MATERIAL>
			<WEAPONCLASS>BLUNT</WEAPONCLASS>
			<WEAPONTYPE>BASHING</WEAPONTYPE>
		</ITEM>
	</ITEM>
	<ITEM condition="1?10=1" select="any-1" insert="dungeon_junk" />
</MOB>
		
<MOB class="GenUndead" level="2+($level_range)" id="dungeon_mummy" race="Undead" gender="$anygender">
	<NAME>a mummified ${l:any_humanoid_race}</NAME>
	<DISPLAY select="pick-1">
		<DISPLAY pickweight="1">$mob_name lurches dangerously towards you.</DISPLAY>
		<DISPLAY pickweight="1">$mob_name wants to destroy you.</DISPLAY>
		<DISPLAY pickweight="1">$mob_name is shuffling confidently towards you.</DISPLAY>
		<DISPLAY pickweight="1">$mob_name doesn`t care that it`s dead.</DISPLAY>
		<DISPLAY pickweight="1">$mob_name was waiting for you.</DISPLAY>
		<DISPLAY pickweight="5">$mob_name is always here.</DISPLAY>
	</DISPLAY>
	<ALIGNMENT>-10000?0</ALIGNMENT>
	<BEHAVIOR select="all">
		<BEHAVIOR condition="$aggrochance&lt;0 and $roomtag_nodetype!='leaf'" class="MobileAggressive" parms="" />
		<BEHAVIOR condition="1?100&lt;$aggrochance"  class="Aggressive" parms="" />
		<BEHAVIOR class="Mobile" condition="$roomtag_nodetype!='leaf'" parms="" />
	</BEHAVIOR>
	<ITEM select="pick-1">
		<ITEM pickweight="1" class="GenWeapon" LEVEL="$mob_level">
			<NAME>a gleaming iron polearm</NAME>
			<DISPLAY>$item_name has been left here"</DISPLAY>
			<WEAPONCLASS>POLEARM</WEAPONCLASS>
			<WEAPONTYPE>PIERCING</WEAPONTYPE>
			<MATERIAL>IRON</MATERIAL>
		</ITEM>
		<ITEM pickweight="2" class="GenWeapon" LEVEL="$mob_level">
			<NAME>a broadsword</NAME>
			<DISPLAY>$item_name has been left here"</DISPLAY>
			<WEAPONCLASS>SWORD</WEAPONCLASS>
			<WEAPONTYPE>SLASHING</WEAPONTYPE>
			<MATERIAL>IRON</MATERIAL>
		</ITEM>
		<ITEM pickweight="1" class="GenWeapon" LEVEL="$mob_level">
			<NAME>a blood soaked dagger</NAME>
			<DISPLAY>$item_name has been left here"</DISPLAY>
			<WEAPONCLASS>DAGGER</WEAPONCLASS>
			<WEAPONTYPE>PIERCING</WEAPONTYPE>
			<MATERIAL>IRON</MATERIAL>
		</ITEM>
		<ITEM pickweight="1" class="GenWeapon" LEVEL="$mob_level">
			<NAME>a spiked club</NAME>
			<DISPLAY>$item_name has been left here"</DISPLAY>
			<MATERIAL>WOOD</MATERIAL>
			<WEAPONCLASS>BLUNT</WEAPONCLASS>
			<WEAPONTYPE>BASHING</WEAPONTYPE>
		</ITEM>
	</ITEM>
	<ITEM condition="1?10=1" select="any-1" insert="dungeon_mundane_items" />
	<ITEM condition="1?10=1" select="any-1" insert="any_alchemy_item" />
	<ITEM condition="1?10=1" select="any-1" insert="any_herbalism_item" />
	<ITEM condition="1?10=1" select="any-1" insert="any_apothecary_item" />
	<ITEM condition="1?10=1" select="any-1" insert="any_distilling_item" />
	<ITEM condition="1?10=1" select="any-1" insert="any_scrollscribing_item" />
</MOB>
		
<ITEM class="metacraft:any-alchemy < $level_range" id="any_alchemy_item" requires="level_range=int"/>
<ITEM class="metacraft:any-herbalism < $level_range" id="any_herbalism_item" requires="level_range=int"/>
<ITEM class="metacraft:any-apothecary < $level_range" id="any_apothecary_item" requires="level_range=int"/>
<ITEM class="metacraft:any-distilling < $level_range" id="any_distilling_item" requires="level_range=int"/>
<ITEM class="metacraft:any-scrollscribing < $level_range" id="any_scrollscribing_item" requires="level_range=int"/>
<ITEM class="metacraft:any-cooking < $level_range" id="any_cooking_item" requires="level_range=int"/>
<ITEM class="metacraft:any-baking < $level_range" id="any_baking_item" requires="level_range=int"/>
<ITEM class="metacraft:any-foodprep < $level_range" id="any_foodprep_item" requires="level_range=int"/>
<ITEM class="metacraft:any-tailoring < $level_range" id="any_tailoring_item" requires="level_range=int"/>

<STRING id="anygender" select="any-1"> <STRING>M</STRING> <STRING>F</STRING></STRING>

<ITEM id="any_random_junk" select="any-1" insert="dungeon_junk" predefine="theme=random" />

<ITEM id="all_random_junk" select="all" insert="dungeon_junk" predefine="level_range=99,theme=random" />

<ITEM id="dungeon_junk" select="all" insert="prison_junk,rats_junk" requires="level_range=int,theme=prison;rats;forest;kobolds;orcs;trolls;goblins;random">
	<ITEM select="all" condition="$theme='trolls' or $theme='random'">
		<ITEM class="GenItem" name="some $adj_metal_broken armor scraps" display="$item_name are sitting here" material="$any_cheap_metal" level="$level_range" />
		<ITEM class="GenResource" name="the bones of a dead aventurer" display="$item_name rest here" material="BONE" level="$level_range" weight="10" />
		<ITEM class="GenItem" name="a string of beads" display="a string of beads lie here" material="BONE" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a wax candle stub" display="$item_name lies here" material="WAX" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a stub of rope" display="$item_name lies here" material="HEMP" level="$level_range" weight=3 />
		<ITEM class="GenEmptyDrink" name="a small bottle" display="$item_name lies here" material="GLASS" level="$level_range" liquidheld=100 weight=3 />
		<ITEM class="GenWeapon" name="(a(n)) ${l:item_material} spike" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=3 damage="1"/>
		<ITEM class="GenItem" name="(a(n)) $adj_wooden_broken box" display="$item_name is sitting here" material="$any_wood" level="$level_range"  weight=1/>
		<ITEM class="GenItem" name="(a(n)) $adj_cloth_broken cloth hat"  display="$item_name lies here" material="$any_cheap_cloth" level="$level_range"  weight=1/>
		<ITEM class="GenItem" name="(a(n)) $adj_cloth_broken sack"  display="$item_name lies here" material="$any_cheap_cloth" level="$level_range"  weight=1/>
		<ITEM class="GenItem" name="(a(n)) ${l:item_material} pick" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=3 />
		<ITEM class="GenItem" name="a bit of ${l:item_material} wire" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) $adj_cloth_broken blanket" display="$item_name lies here" material="$any_wood" level="$level_range"  weight=1/>
		<ITEM class="GenItem" name="a dirty $adj_cloth_broken ${l:item_material} rag" display="$item_name lies here" material="$any_cheap_cloth" level="$level_range"  weight=1/>
		<ITEM class="GenItem" name="(a(n)) ${l:item_material} tweezer" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) $adj_metal_broken locket" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="some false wooden teeth" display="$item_name are here" material="$any_wood" level="$level_range" weight=1 />
		<ITEM class="GenFood" name="a squished frog"  display="$item_name lies here" material="MEAT" level="$level_range"  weight=1 nourishment=1 />
		<ITEM class="GenLiquidResource" name="a puddle of blood" display="$item_name is here" material="BLOOD" level="$level_range"  weight=1 LIQUIDHELD=1 />
		<ITEM class="GenItem" name="(a(n)) ${l:item_material} axe head" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=3 />
		<ITEM class="GenItem" name="(a(n)) $adj_wooden_broken wooden bracelet" display="$item_name lies here" material="$any_wood" level="$level_range" weight=1 />
		<ITEM class="metacraft:any-Cooking < $level_range" name="some rotten $item_name" display="$item_name sits here" weight=1 description="It looks rotten and half-eaten."><AFFECT class="Poison_Rotten" parms="" /></ITEM>
		<ITEM class="metacraft:any-Baking < $level_range" name="some rotten $item_name" display="$item_name sits here" weight=1 description="It looks rotten and half-eaten."><AFFECT class="Poison_Rotten" parms="" /></ITEM>
		<ITEM class="GenWeapon" name="(a(n)) $adj_wooden_broken wooden sword" display="$item_name lies here" material="$any_wood" level="$level_range" weight=3 damage="1"/>
		<ITEM class="GenItem" name="a pair of bull horns" display="$item_name lie here" material="BONE" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) $adj_metal_broken metal handle" display="$item_name is sitting here" material="$any_cheap_metal" level="$level_range" />
		<ITEM class="GenItem" name="(a(n)) $adj_wooden_broken ${l:item_material} stick" display="$item_name is sitting here" material="$any_wood" level="$level_range"  weight=1/>
		<ITEM class="GenItem" name="a pile of corks" display="$item_name are here" material="OAK" level="$level_range" weight=1 />
		<ITEM class="GenWeapon" name="(a(n)) $adj_metal_broken ${l:item_material} pipe" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=3 damage="2"/>
		<ITEM class="GenItem" name="a rat skull" display="$item_name lies here" material="BONE" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a stick of black chalk" display="$item_name lies here" material="STONE" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) $adj_metal_broken ${l:item_material} lock" display="$item_name is sitting here" material="$any_cheap_metal" level="$level_range" />
		<ITEM class="metacraft:any-Cooking < $level_range" name="some half-eaten $item_name covered in mold" display="$item_name sits here" weight=1 description="Its been here awhile."><AFFECT class="Poison_Rotten" parms="" /></ITEM>
		<ITEM class="metacraft:any-Baking < $level_range" name="some half-eaten $item_name covered in mold" display="$item_name sits here" weight=1 description="Its been here awhile."><AFFECT class="Poison_Rotten" parms="" /></ITEM>
		<ITEM class="GenItem" name="(a(n)) $adj_metal_broken ${l:item_material} holy symbol" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) $adj_wooden_broken ${l:item_material} holy symbol" display="$item_name lies here" material="$any_wood" level="$level_range" weight=1 />
		<ITEM class="GenLimb" name="a cracked glass eye" display="$item_name lies here" material="GLASS" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="$any_plural_digit $any_humanoid_race toes on a $adj_metal_broken chain" display="$item_name lie here" material="$any_cheap_metal" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) $adj_wooden_broken clothespin" display="$item_name lies here" material="$any_wood" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a worn leather ball" display="$item_name lies here" material="LEATHER" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) $adj_metal_broken ${l:item_material} belt buckle" display="$item_name is sitting here" material="$any_cheap_metal" level="$level_range"  weight=1/>
		<ITEM class="GenItem" name="(a(n)) $adj_metal_broken ${l:item_material} knitting needle" display="$item_name is sitting here" material="$any_cheap_metal" level="$level_range"  weight=1/>
		<ITEM class="GenLimb" name="a mummified $any_humanoid_race hand" display="$item_name lies here" material="MEAT" level="$level_range" weight=1 />
		<ITEM class="GenLimb" name="a mummified $any_mammal_race paw" display="$item_name lies here" material="MEAT" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a ball of twine" display="$item_name lies here" material="$any_cheap_cloth" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) whittled ${l:item_material} stick" display="$item_name is sitting here" material="$any_wood" level="$level_range"  weight=1/>
		<ITEM class="GenItem" name="a smooth rock" display="$item_name lies here" material="STONE" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a dyed $adj_colored_color stone" display="$item_name lies here" material="STONE" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a dyed $adj_colored_color stick" display="$item_name lies here" material="$any_wood" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a puzzle piece" display="$item_name lies here" material="$any_wood" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) $adj_wooden_broken bowl" display="$item_name is sitting here" material="$any_wood" level="$level_range"  weight=1/>
		<ITEM class="GenPlayingCard" name="a playing card" ability="0?62" />
		<ITEM class="GenItem" name="(a(n)) $any_avian_race feather" display="$item_name lies here" material="FEATHERS" level="$level_range" weight=1 />
		<ITEM class="GenKey" name="(a(n)) $adj_metal_broken key" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=1 READABLETEXT="opensnothing"/>
		<ITEM class="GenItem" name="a clump of bloody $any_humanoid_race hair" display="$item_name lies here" material="MEAT" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) ${l:item_material} toothpick" display="$item_name lies here" material="$any_wood" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a clump of ${l:item_material}" display="$item_name lies here" material="$any_cheap_cloth" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) ${l:item_material} fishhook" display="$item_name is sitting here" material="$any_cheap_metal" level="$level_range" />
		<ITEM class="GenItem" name="a gnawed-on $any_humanoid_race finger bone" display="$item_name lie here" material="BONE" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a bloody $any_humanoid_race skull" display="$item_name lie here" material="BONE" level="$level_range" weight=1 />
		<ITEM class="GenReadable" name="a scrap of paper" display="$item_name lies here" material="PAPER" level="$level_range" weight=1 description="There`s something written on it." READABLETEXT="Something totally unintelligible."/>
		<ITEM class="GenWeapon" name="(a(n)) ${l:item_material} nail" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=3 damage="1"/>
		<ITEM class="GenItem" name="(a(n)) $adj_wooden_broken hatchet handle" display="$item_name is sitting here" material="$any_wood" level="$level_range" />
		<ITEM class="GenItem" name="(a(n)) $adj_wooden_broken baby rattle" display="$item_name is here" material="$any_wood" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) $adj_metal_broken horse shoe" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=1/>
		<ITEM class="GenItem" name="a bloody comb" display="$item_name lie here" material="$ramdom_cheap_metal" level="$level_range" weight=1 />
		<ITEM class="GenWeapon" name="(a(n)) ${l:item_material} chair leg" display="$item_name lies here" material="$any_wood" level="$level_range" weight=3 damage="1"/>
		<ITEM class="metacraft:any-Weaponsmithing < $level_range" name="(a(n)) $adj_metal_broken $item_name" display="$item_name lies here" damage=1  attack=-10 affbehav="<BEHAVES /><AFFECS />" />
		<ITEM class="metacraft:any-Armorsmithing < $level_range" name="(a(n)) $adj_metal_broken $item_name" display="$item_name lies here" armor=0 affbehav="<BEHAVES /><AFFECS />" />
		<ITEM class="metacraft:any-MasterWeaponsmithing < $level_range" name="(a(n)) $adj_metal_broken $item_name" display="$item_name lies here" damage=1 attack=-10 affbehav="<BEHAVES /><AFFECS />" condition="$level_range>30" />
		<ITEM class="metacraft:any-MasterArmorsmithing < $level_range" name="(a(n)) $adj_metal_broken $item_name" display="$item_name lies here" armor=0 affbehav="<BEHAVES /><AFFECS />" condition="$level_range>30" />
	</ITEM>
	<ITEM select="all" condition="$theme='kobolds' or $theme='goblins' or $theme='orcs' or $theme='random' or $theme='forest'">
		<ITEM class="GenItem" name="some $adj_wooden_broken shield pieces" display="$item_name are sitting here" material="IRON" level="$level_range" />
		<ITEM class="GenResource" name="the bones of a dead critter" display="$item_name rest here" material="BONE" level="$level_range" weight="2" />
		<ITEM class="GenItem" name="a candle wick" display="$item_name lies here" material="COTTON" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a string of tiny prayer bones" display="a string of tiny prayer bones lie here" material="BONE" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a one foot length of rope" display="$item_name lies here" material="HEMP" level="$level_range" weight=3 />
		<ITEM class="GenEmptyDrink" name="a small clay jug" display="$item_name lies here" material="CLAY" level="$level_range" liquidheld=100 weight=3 />
		<ITEM class="GenWeapon" name="(a(n)) ${l:item_material} shard" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=3  damage="1"/>
		<ITEM class="GenItem" name="(a(n)) $adj_wooden_broken crate" display="$item_name is sitting here" material="$any_wood" level="$level_range"  weight=3/>
		<ITEM class="GenItem" name="(a(n)) $adj_cloth_broken hat"  display="$item_name lies here" material="$any_cheap_cloth" level="$level_range"  weight=1/>
		<ITEM class="GenItem" name="a small $adj_cloth_broken sack"  display="$item_name lies here" material="$any_cheap_cloth" level="$level_range"  weight=1/>
		<ITEM class="GenItem" name="(a(n)) ${l:item_material} pick head" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=3 />
		<ITEM class="GenItem" name="a short length of ${l:item_material} wire" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) $adj_cloth_broken bedroll" display="$item_name lies here" material="$any_cheap_cloth" level="$level_range"  weight=1/>
		<ITEM class="GenItem" name="a greasy $adj_cloth_broken ${l:item_material} rag" display="$item_name lies here" material="$any_cheap_cloth" level="$level_range"  weight=1/>
		<ITEM class="GenItem" name="(a(n)) ${l:item_material} half-tweezer" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) $adj_metal_broken ${l:item_material} locket" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) unidentified tooth" display="$item_name is here" material="bone" level="$level_range" weight=1 />
		<ITEM class="GenFood" name="a dead frog"  display="$item_name lies here" material="MEAT" level="$level_range"  weight=1 nourishment=1 />
		<ITEM class="GenLiquidResource" name="a glob of blood"  display="$item_name is here" material="BLOOD" level="$level_range"  weight=1 LIQUIDHELD=1 />
		<ITEM class="GenItem" name="(a(n)) $adj_wooden_broken ${l:item_material} axe handle" display="$item_name lies here" material="$any_wood" level="$level_range" weight=3 />
		<ITEM class="GenItem" name="(a(n)) $adj_wooden_broken wooden helmet" display="$item_name lies here" material="$any_wood" level="$level_range" weight=1 />
		<ITEM class="metacraft:any-Cooking < $level_range" name="some rotten $item_name" display="$item_name sits here" weight=1 description="It looks rotten and half-eaten."><AFFECT class="Poison_Rotten" parms="" /></ITEM>
		<ITEM class="metacraft:any-Baking < $level_range" name="some rotten $item_name" display="$item_name sits here" weight=1 description="It looks rotten and half-eaten."><AFFECT class="Poison_Rotten" parms="" /></ITEM>
		<ITEM class="GenWeapon" name="(a(n)) $adj_wooden_broken wooden practice sword" display="$item_name lies here" material="$any_wood" level="$level_range" weight=3 damage="1"/>
		<ITEM class="GenItem" name="a pair of small horns" display="$item_name lie here" material="BONE" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) $adj_metal_broken door hinge" display="$item_name is sitting here" material="$any_cheap_metal" level="$level_range" />
		<ITEM class="GenItem" name="(a(n)) $adj_wooden_broken ${l:item_material} sticker" display="$item_name is sitting here" material="$any_wood" level="$level_range"  weight=1/>
		<ITEM class="GenItem" name="a pile of wine corks" display="$item_name are here" material="OAK" level="$level_range" weight=1 />
		<ITEM class="GenWeapon" name="(a(n)) small ${l:item_material} pipe" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=3 damage="2"/>
		<ITEM class="GenItem" name="a collection of rat skulls" display="$item_name are here" material="BONE" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a stick of $adj_colored_color chalk" display="$item_name lies here" material="STONE" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) $adj_metal_broken ${l:item_material} lockpick" display="$item_name is sitting here" material="$any_cheap_metal" level="$level_range" />
		<ITEM class="metacraft:any-Cooking < $level_range" name="some half-eaten $item_name covered in mold" display="$item_name sits here" weight=1 description="Its been here awhile."><AFFECT class="Poison_Rotten" parms="" /></ITEM>
		<ITEM class="metacraft:any-Baking < $level_range" name="some half-eaten $item_name covered in mold" display="$item_name sits here" weight=1 description="Its been here awhile."><AFFECT class="Poison_Rotten" parms="" /></ITEM>
		<ITEM class="GenItem" name="(a(n)) $adj_metal_broken ${l:item_material} holy symbol" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) $adj_wooden_broken ${l:item_material} holy symbol" display="$item_name lies here" material="$any_wood" level="$level_range" weight=1 />
		<ITEM class="GenLimb" name="a glass eyeball" display="$item_name lies here" material="GLASS" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="$any_plural_digit $any_humanoid_race ears on a $adj_metal_broken chain" display="$item_name lie here" material="$any_cheap_metal" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) ${l:item_material} clothespin" display="$item_name lies here" material="$any_wood" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) $adj_cloth_broken leather toy" display="$item_name lies here" material="LEATHER" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) ${l:item_material} belt buckle" display="$item_name is sitting here" material="$any_cheap_metal" level="$level_range"  weight=1/>
		<ITEM class="GenItem" name="(a(n)) $adj_metal_broken ${l:item_material} needle" display="$item_name is sitting here" material="$any_cheap_metal" level="$level_range"  weight=1/>
		<ITEM class="GenLimb" name="a mummified $any_humanoid_race arm" display="$item_name lies here" material="MEAT" level="$level_range" weight=1 />
		<ITEM class="GenLimb" name="a mummified $any_mammal_race head" display="$item_name lies here" material="MEAT" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a clump of ${l:item_material}" display="$item_name lies here" material="$any_cheap_cloth" level="$level_range" weight=1 />
		<ITEM class="GenWeapon" name="a sharpened ${l:item_material} stick" display="$item_name is sitting here" material="$any_wood" level="$level_range"  damage="1" weight=1/>
		<ITEM class="GenItem" name="a jagged stone" display="$item_name lies here" material="STONE" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a dyed $adj_colored_color pebble" display="$item_name lies here" material="STONE" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a dyed $adj_colored_color ${l:item_material} branch" display="$item_name lies here" material="$any_wood" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) $adj_cloth_broken ${l:item_material} puzzle piece" display="$item_name lies here" material="$any_wood" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a small $adj_wooden_broken bowl" display="$item_name is sitting here" material="$any_wood" level="$level_range"  weight=1/>
		<ITEM class="GenPlayingCard" name="a playing card" ability="0?62" />
		<ITEM class="GenItem" name="a dirty $any_avian_race feather" display="$item_name lies here" material="FEATHERS" level="$level_range" weight=1 />
		<ITEM class="GenKey" name="a rusty worn ${l:item_material} key" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=1 READABLETEXT="opensnothing"/>
		<ITEM class="GenItem" name="a dirty locke of $any_humanoid_race hair" display="$item_name lies here" material="MEAT" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a dirty wooden toothpick" display="$item_name lies here" material="$any_wood" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a bit of dirty ${l:item_material}" display="$item_name lies here" material="$any_cheap_cloth" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) $adj_metal_broken ${l:item_material} hook" display="$item_name is sitting here" material="$any_cheap_metal" level="$level_range" />
		<ITEM class="GenItem" name="(a(n)) $any_humanoid_race knuckle bone" display="$item_name lie here" material="BONE" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="(a(n)) $any_humanoid_race jawbone" display="$item_name lie here" material="BONE" level="$level_range" weight=1 />
		<ITEM class="GenReadable" name="a scrap of paper" display="$item_name lies here" material="PAPER" level="$level_range" weight=1 description="There`s something written on it." READABLETEXT="$[0?99]-$[0?999]-$[0?999]"/>
		<ITEM class="GenWeapon" name="a rusted ${l:item_material} nail" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=3 damage="1"/>
		<ITEM class="GenItem" name="(a(n)) $adj_wooden_broken pick handle" display="$item_name is sitting here" material="$any_wood" level="$level_range" />
		<ITEM class="GenItem" name="(a(n)) $adj_wooden_broken bloody baby rattle" display="$item_name is here" material="$any_wood" level="$level_range" weight=1 />
		<ITEM class="GenItem" name="a dirty $adj_metal_broken horse shoe" display="$item_name lies here" material="$any_cheap_metal" level="$level_range" weight=1/>
		<ITEM class="GenItem" name="a bloody hair comb made of bone" display="$item_name lie here" material="BONE" level="$level_range" weight=1 />
		<ITEM class="GenLimb" name="(a(n)) ${l:item_material} wooden leg" display="$item_name lies here" material="$any_wood" level="$level_range" weight=3 damage="1"/>
		<ITEM class="metacraft:any-Weaponsmithing < $level_range" name="(a(n)) $adj_metal_broken bloody $item_name" display="$item_name lies here" damage=1  attack=-10 affbehav="<BEHAVES /><AFFECS />" />
		<ITEM class="metacraft:any-Armorsmithing < $level_range" name="(a(n)) $adj_metal_broken bloody $item_name" display="$item_name lies here" armor=0 affbehav="<BEHAVES /><AFFECS />" />
		<ITEM class="metacraft:any-MasterWeaponsmithing < $level_range" name="(a(n)) $adj_metal_broken bloody $item_name" display="$item_name lies here" damage=1 attack=-10 affbehav="<BEHAVES /><AFFECS />" condition="$level_range>30" />
		<ITEM class="metacraft:any-MasterArmorsmithing < $level_range" name="(a(n)) $adj_metal_broken bloody $item_name" display="$item_name lies here" armor=0 affbehav="<BEHAVES /><AFFECS />" condition="$level_range>30" />
	</ITEM>
</ITEM>

<!-- 
TODO: mundane items
http://oldguardgamingaccoutrements.blogspot.com/2009/03/100-item-list-of-random-objects-for.html
http://mikemonaco.files.wordpress.com/2011/03/mundane-items-table2.pdf
-->
<ITEM id="dungeon_mundane_items" select="all" requires="level_range=int">
	<ITEM class="metacraft:any-Weaponsmithing < $level_range" />
	<ITEM class="metacraft:any-Armorsmithing < $level_range" />
	<ITEM class="metacraft:any-Tailoring < $level_range" />
	<ITEM class="metacraft:any-LeatherWorking < $level_range" />
	<ITEM class="metacraft:any-MasterWeaponsmithing < $level_range"  condition="$level_range>10"/>
	<ITEM class="metacraft:any-MasterArmorsmithing < $level_range"  condition="$level_range>10"/>
	<ITEM class="metacraft:any-MasterTailoring < $level_range"  condition="$level_range>10"/>
	<ITEM class="metacraft:any-MasterLeatherWorking < $level_range"  condition="$level_range>10"/>
	<ITEM class="genCoins" name="a pile of coins" ability="$level_range * 2"/>
</ITEM>

<ITEM id="dungeon_treasure_items" select="all" requires="level_range=int"  insert="level_weighted_gemstones,level_weighted_gem_baubles,level_weighted_bars,level_weighted_metal_baubles,any_alchemy_item,any_apothecary_item,any_distilling_item,any_herbalism_item">
	<ITEM class="genCoins" name="a pile of coins" ability="$level_range * 20" />
	<ITEM id="dungeon_treasure_equipment" select="pick-1+($level_range/20)" requires="level_range=int">
		<ITEM class="metacraft:any-Weaponsmithing < $level_range" ability="1?5"/>
		<ITEM class="metacraft:any-Armorsmithing < $level_range"  ability="1?5"/>
		<ITEM class="metacraft:any-Tailoring < $level_range"  ability="1?5"/>
		<ITEM class="metacraft:any-LeatherWorking < $level_range"  ability="1?5"/>
		<ITEM class="metacraft:any-MasterWeaponsmithing < $level_range"  ability="1?5" condition="$level_range>10"/>
		<ITEM class="metacraft:any-MasterArmorsmithing < $level_range"  ability="1?5" condition="$level_range>10"/>
		<ITEM class="metacraft:any-MasterTailoring < $level_range"  ability="1?5" condition="$level_range>10"/>
		<ITEM class="metacraft:any-MasterLeatherWorking < $level_range"  ability="1?5" condition="$level_range>10"/>
	</ITEM>
</ITEM>

<string id="level_weighted_gems" select="any-1" predefine="weighted_gem_chance=($level_range*7)" required="level_range=int">
	<string define="last_gem_value=10" condition="$weighted_gem_chance>10">limestone</string>
	<string define="last_gem_value=25" condition="$weighted_gem_chance>25">sandstone</string>
	<string define="last_gem_value=50" condition="$weighted_gem_chance>50">quartz</string>
	<string define="last_gem_value=50" condition="$weighted_gem_chance>50">jade</string>
	<string define="last_gem_value=50" condition="$weighted_gem_chance>50">aquamarine</string>
	<string define="last_gem_value=60" condition="$weighted_gem_chance>50">crysoberyl</string>
	<string define="last_gem_value=65" condition="$weighted_gem_chance>60">soapstone</string>
	<string define="last_gem_value=65" condition="$weighted_gem_chance>65">peridot</string>
	<string define="last_gem_value=70" condition="$weighted_gem_chance>70">garnet</string>
	<string define="last_gem_value=70" condition="$weighted_gem_chance>70">onyx</string>
	<string define="last_gem_value=70" condition="$weighted_gem_chance>70">turquoise</string>
	<string define="last_gem_value=70" condition="$weighted_gem_chance>70">lapis</string>
	<string define="last_gem_value=80" condition="$weighted_gem_chance>80">opal</string>
	<string define="last_gem_value=80" condition="$weighted_gem_chance>80">amber</string>
	<string define="last_gem_value=85" condition="$weighted_gem_chance>85">bloodstone</string>
	<string define="last_gem_value=90" condition="$weighted_gem_chance>90">moonstone</string>
	<string define="last_gem_value=95" condition="$weighted_gem_chance>95">alexandrite</string>
	<string define="last_gem_value=100" condition="$weighted_gem_chance>100">gem</string>
	<string define="last_gem_value=100" condition="$weighted_gem_chance>100">agate</string>
	<string define="last_gem_value=100" condition="$weighted_gem_chance>100">citrine</string>
	<string define="last_gem_value=180" condition="$weighted_gem_chance>180">sapphire</string>
	<string define="last_gem_value=200" condition="$weighted_gem_chance>200">topaz</string>
	<string define="last_gem_value=200" condition="$weighted_gem_chance>200">emerald</string>
	<string define="last_gem_value=300" condition="$weighted_gem_chance>300">amethyst</string>
	<string define="last_gem_value=300" condition="$weighted_gem_chance>300">ruby</string>
	<string define="last_gem_value=380" condition="$weighted_gem_chance>380">pearl</string>
	<string define="last_gem_value=500" condition="$weighted_gem_chance>500">diamond</string>
</string>

<item id="level_weighted_gemstones" select="repeat-20" predefine="random_sum_max=($level_range*5),random_sum_sum=0,last_gem_value=99999,last_material=''">
	<item define="last_material=$level_weighted_gems,random_sum_sum+=$last_gem_value">
		<item validate="$random_sum_sum &lt; $random_sum_max" class="GenResource" name="(a(n)) $item_material gemstone" display="$item_name sits here" material="$last_material" basegold="$last_gem_value"/>
	</item>
</item>

<item id="level_weighted_gem_baubles" select="repeat-20" predefine="random_sum_max=($level_range*5),random_sum_sum=0,last_gem_value=99999,last_material=''">
	<item define="last_material=$level_weighted_gems,random_sum_sum+=$last_gem_value"><item validate="$random_sum_sum &lt; $random_sum_max" class="GenResource" name="(a(n)) $item_material $bauble_shapes" display="$item_name sits here" material="$last_material" basegold="$last_gem_value"/></item>
</item>

<string id="level_weighted_metals" select="any-1" predefine="weighted_metal_chance=($level_range*7)" required="level_range=int">
	<string define="last_metal_value=10" condition="$weighted_metal_chance>10">lead</string>
	<string define="last_metal_value=10" condition="$weighted_metal_chance>25">bronze</string>
	<string define="last_metal_value=10" condition="$weighted_metal_chance>50">zinc</string>
	<string define="last_metal_value=10" condition="$weighted_metal_chance>50">copper</string>
	<string define="last_metal_value=10" condition="$weighted_metal_chance>50">tin</string>
	<string define="last_metal_value=20" condition="$weighted_metal_chance>50">iron</string>
	<string define="last_metal_value=30" condition="$weighted_metal_chance>60">silver</string>
	<string define="last_metal_value=75" condition="$weighted_metal_chance>65">steel</string>
	<string define="last_metal_value=80" condition="$weighted_metal_chance>70">platinum</string>
	<string define="last_metal_value=100" condition="$weighted_metal_chance>70">mithril</string>
	<string define="last_metal_value=120" condition="$weighted_metal_chance>70">brass</string>
	<string define="last_metal_value=150" condition="$weighted_metal_chance>70">gold</string>
	<string define="last_metal_value=175" condition="$weighted_metal_chance>80">adamantite</string>
	<string define="last_metal_value=200" condition="$weighted_metal_chance>80">atlantite</string>
</string>

<item id="level_weighted_bars" select="repeat-20" predefine="random_sum_max=($level_range*5),random_sum_sum=0,last_metal_value=99999,last_material=''">
	<item define="last_material=$level_weighted_metals,random_sum_sum+=$last_metal_value">
		<item validate="$random_sum_sum &lt; $random_sum_max" class="GenResource" name="(a(n)) $item_material bar" display="$item_name sits here" material="$last_material" basegold="$last_metal_value"/>
	</item>
</item>

<item id="level_weighted_metal_baubles" select="repeat-20" predefine="random_sum_max=($level_range*5),random_sum_sum=0,last_metal_value=99999,last_material=''">
	<item define="last_material=$level_weighted_metals,random_sum_sum+=$last_metal_value">
		<item validate="$random_sum_sum &lt; $random_sum_max" class="GenResource" name="(a(n)) $item_material $metal_bauble_shapes" display="$item_name sits here" material="$last_material" basegold="$last_metal_value"/>
	</item>
</item>

<string id="bauble_shapes" select="any-1">
	<string>bauble</string><string>knickknack</string><string>novelty</string><string>locket</string><string>pendant</string><string>setting</string>
</string>

<string id="metal_bauble_shapes" select="any-1">
	<string>bauble</string><string>knickknack</string><string>novelty</string><string>locket</string><string>pendant</string>
	<string>figurine</string><string>statuette</string><string>blank plaque</string>
</string>

<STRING id="_humanoid_races" select="any-1" insert="any_humanoid_race" define="_humanoid_races" />

<STRING id="any_humanoid_race" select="any-1">
	<STRING>Human</STRING>
	<STRING>Dwarf</STRING>
	<STRING>Elf</STRING>
	<STRING>Gnome</STRING>
	<STRING>Halfling</STRING>
	<STRING>HalfElf</STRING>
</STRING>

<STRING id="_animal_races" select="any-1" insert="any_mammal_race,any_reptile_race,any_bird_race" define="_animal_races" />

<STRING id="any_bird_race" select="any-1">
	<STRING>Bird</STRING>
	<STRING>Chicken</STRING>
	<STRING>Duck</STRING>
	<STRING>Eagle</STRING>
	<STRING>Hawk</STRING>
	<STRING>Raven</STRING>
	<STRING>Robin</STRING>
	<STRING>SongBird</STRING>
	<STRING>Owl</STRING>
	<STRING>WaterFowl</STRING>
</STRING>
<STRING id="any_avian_race" insert="any_bird_race" select="any-1">
	<STRING>Aarakocran</STRING>
	<STRING>Griffon</STRING>
	<STRING>Harpy</STRING>
</STRING>
<STRING id="any_reptile_race" select="any-1">
	<STRING>Alligator</STRING>
	<STRING>Lizard</STRING>
	<STRING>Crocodile</STRING>
	<STRING>Turtle</STRING>
	<STRING>Frog</STRING>
</STRING>
<STRING id="any_fish_race" select="any-1">
	<STRING>Fish</STRING>
	<STRING>Shark</STRING>
</STRING>
<STRING id="any_mammal_race" select="any-1">
	<STRING>Animal</STRING>
	<STRING>Ape</STRING>
	<STRING>Bat</STRING>
	<STRING>Bear</STRING>
	<STRING>Bear</STRING>
	<STRING>Buffalo</STRING>
	<STRING>Bull</STRING>
	<STRING>Calf</STRING>
	<STRING>Cat</STRING>
	<STRING>Calf</STRING>
	<STRING>Cub</STRING>
	<STRING>Deer</STRING>
	<STRING>Dog</STRING>
	<STRING>Elephant</STRING>
	<STRING>Equine</STRING>
	<STRING>Fido</STRING>
	<STRING>Fox</STRING>
	<STRING>Goat</STRING>
	<STRING>Horse</STRING>
	<STRING>Kitten</STRING>
	<STRING>Lion</STRING>
	<STRING>Moose</STRING>
	<STRING>Mouse</STRING>
	<STRING>Pig</STRING>
	<STRING>Puma</STRING>
	<STRING>Puppy</STRING>
	<STRING>Rabbit</STRING>
	<STRING>Rat</STRING>
	<STRING>Rodent</STRING>
	<STRING>Sheep</STRING>
	<STRING>Wolf</STRING>
</STRING>

<string id="any_plural_digit" select="any-1"><string>2</string><string>3</string><string>4</string><string>5</string><string>6</string><string>7</string><string>8</string><string>9</string></string>
<string id="any_digit" insert="any_plural_digit" select="any-1"><string>0</string><string>1</string></string>

<STRING id="noun_fun" select="any-1">
	<STRING>enjoyment</STRING><STRING>entertainment</STRING><STRING>amusement</STRING><STRING>pleasure</STRING><STRING>jollification</STRING>
	<STRING>merrymaking; recreation</STRING><STRING>diversion</STRING><STRING>leisure</STRING><STRING>merriment</STRING><STRING>cheerfulness</STRING>
	<STRING>cheeriness</STRING><STRING>jollity</STRING><STRING>joviality</STRING><STRING>jocularity</STRING><STRING>gaiety</STRING>
	<STRING>mirth</STRING><STRING>laughter</STRING><STRING>hilarity</STRING><STRING>glee</STRING><STRING>gladness</STRING>
	<STRING>lightheartedness</STRING><STRING>levity</STRING>
</STRING> 

<STRING id="noun_hallway" select="any-1">
	<STRING>corridor</STRING>
	<STRING>hallway</STRING>
	<STRING>hall</STRING>
	<STRING>passage</STRING>
	<STRING>passageway</STRING>
</STRING>

<STRING id="any_cheap_metal" select="any-1"><string>iron</string><string>lead</string><string>bronze</string><string>tin</string><string>brass</string></STRING>
<STRING id="any_rich_metal" select="any-1"><string>silver</string><string>gold</string><string>copper</string><string>white_gold</string></STRING>
<STRING id="any_metal" insert="any_cheap_metal,any_rich_metal" select="any-1"><string>zinc</string><string>steel</string><string>chromium</string><string>dragonscales</string></STRING>
<STRING id="any_mithril" insert="any_metal" select="any-1"><string>mithril</string><string>adamantite</string><string>atlantite</string></STRING>
<STRING id="any_wood" select="any-1" insert="most_wood_values">
	<string>wood</string><string>reed</string><string>bamboo</string>
</STRING>
<STRING id="most_wood_values" select="all">
	<string>pine</string><string>balsa</string><string>oak</string><string>maple</string><string>redwood</string><string>hickory</string><string>ironwood</string>
	<string>yew</string><string>teak</string><string>cedar</string><string>elm</string><string>cherrywood</string><string>beechwood</string><string>willow</string><string>sycamore</string>
	<string>spruce</string><string>mesquite</string>
</STRING>
<STRING id="any_tree" select="any-1" insert="most_wood_values" />
<STRING id="any_cheap_cloth" select="any-1"><string>hide</string><string>wool</string><string>cotton</string><string>hemp</string></STRING>
<STRING id="any_rich_cloth" select="any-1"><string>spidersteel</string><string>silk</string><string>feathers</string><string>fur</string></STRING>
<STRING id="any_cloth" insert="any_cheap_cloth,any_rich_cloth" select="any-1"></STRING>

<STRING id="smithywords" select="any-1"><STRING>hammer</STRING><STRING>anvil</STRING><STRING>forge</STRING><STRING>fire</STRING><STRING>steel</STRING></STRING>
<STRING id="weaponsmithywords" select="any-1"><STRING>sword</STRING><STRING>axe</STRING><STRING>mace</STRING><STRING>arms</STRING><STRING>spear</STRING><STRING>dagger</STRING></STRING>
<STRING id="armorsmithywords" select="any-1"><STRING>shield</STRING><STRING>armor</STRING><STRING>bracer</STRING><STRING>chain</STRING><STRING>plate</STRING></STRING>

</AREADATA>
